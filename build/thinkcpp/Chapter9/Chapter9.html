<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>More structures &#8212; How to Think Like a Computer Scientist - C++</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=DB047029" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/presenter_mode.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jquery-ui-1.10.3.custom.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/user-highlights.css" />
    <link rel="stylesheet" type="text/css" href="../_static/runestone-custom-sphinx-bootstrap.css?v=5.0.0" />
    <link rel="stylesheet" type="text/css" href="../_static/theme-overrides.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/jquery.highlight.js?v=F1C496C8"></script>
    <script src="../_static/sql-wasm.js?v=44FE0709"></script>
    <script src="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.js"></script>
    <script src="../_static/animationbase.js?v=A043C3A7"></script>
    <script src="../_static/pytutor-embed.bundle.js?v=268B5C04"></script>
    <script src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script src="../_static/webglinteractive.js?v=2B768384"></script>
    <script src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script src="../_static/Blob.js?v=AEC2447"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.bidi.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.fallbacks.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.messagestore.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.parser.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.language.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script src="../_static/runestone.js?v=5.0.0"></script>
    <script src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="../_static/jquery-fix.js"></script>
    <script src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script src="../_static/bootstrap-sphinx.js"></script>
    <script src="../_static/waypoints.min.js"></script>
    <script src="../_static/jquery.idle-timer.js"></script>
    <script src="../_static/processing-1.4.1.min.js"></script>
    <script src="../_static/jquery.hotkey.js"></script>
    <script src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <script src="../_static/presenter_mode.js?v=5.0.0"></script>
    <script src="../_static/theme.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = true;
    eBookConfig.host = 'http://127.0.0.1:8000' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/runestone';
    eBookConfig.course = 'thinkcpp';
    eBookConfig.basecourse = 'thinkcpp';
    eBookConfig.isLoggedIn = false;
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = '' ? '' : 'python'
  eBookConfig.runestone_version = '';
  eBookConfig.jobehost = '';
  eBookConfig.proxyuri_runs = '';
  eBookConfig.proxyuri_files = '';
  eBookConfig.enable_chatcodes = false ? false : false;


</script>


<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar" aria-label="navbar toggle" class="visuallyhidden">toggle navbar</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
          <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        
        <a class="navbar-brand" href="../index.html" aria-label="index-page">
          
          thinkcpp
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>


        <!-- social media dropdown -->
        
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-globe" style="opacity: 0.9"><span aria-label="Social" class="visuallyhidden">Social</span></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHNwYJKoZIhvcNAQcEoIIHKDCCByQCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYAcrkqh1hn3lYqIpfXxNqe1T82EhXzCJGy1yMAmklpyZshyMkfDGe1Bhx+iwyGeoYRTTyphFmP+9M3NyO0+Q5XdHxgZPx/zYjjBxlZHgEV6jhE8bN2fHkkPf0VHfz0a0QQylQOPlKiOTZV7B37Jpk6yM47oVZ1tG/KNm0NkfmB76DELMAkGBSsOAwIaBQAwgbQGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIi0GmFfOlcjuAgZBbYOo9UO+CpMQa+PYqwsUmUnJvXIImeMeNI3KVTUx5Cfk9gNMo3WzPeiB5IqZo9nRAQ0mf1qL2ecLeB5tidM+lgBUhOxfj3/FecpnVFa0263gp4g+PLw8jzhvVRdUon1K3SeO1Rzh23fIRKwnrD6btt73uwtj0sl3tGd8qz+6GIcwPDdRk9VcUffiBJT/ZagKgggOHMIIDgzCCAuygAwIBAgIBADANBgkqhkiG9w0BAQUFADCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wHhcNMDQwMjEzMTAxMzE1WhcNMzUwMjEzMTAxMzE1WjCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMFHTt38RMxLXJyO2SmS+Ndl72T7oKJ4u4uw+6awntALWh03PewmIJuzbALScsTS4sZoS1fKciBGoh11gIfHzylvkdNe/hJl66/RGqrj5rFb08sAABNTzDTiqqNpJeBsYs/c2aiGozptX2RlnBktH+SUNpAajW724Nv2Wvhif6sFAgMBAAGjge4wgeswHQYDVR0OBBYEFJaffLvGbxe9WT9S1wob7BDWZJRrMIG7BgNVHSMEgbMwgbCAFJaffLvGbxe9WT9S1wob7BDWZJRroYGUpIGRMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbYIBADAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4GBAIFfOlaagFrl71+jq6OKidbWFSE+Q4FqROvdgIONth+8kSK//Y/4ihuE4Ymvzn5ceE3S/iBSQQMjyvb+s2TWbQYDwcp129OPIbD9epdr4tJOUNiSojw7BHwYRiPh58S1xGlFgHFXwrEBb3dgNbMUa+u4qectsMAXpVHnD9wIyfmHMYIBmjCCAZYCAQEwgZQwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tAgEAMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xMzExMDMxMzQxMzFaMCMGCSqGSIb3DQEJBDEWBBRDJF8w+zsMr7FSk+pwinB5f5D4rzANBgkqhkiG9w0BAQEFAASBgHw1LMHpkpaqHIvDGdFE0eG+2mZlmMnUeDCBhQlbc7QMzFQYKTV94NfaebBO4PmNdADe1rq4WidSRZZbE7CzkX9IGENYnBTWY0hb2l0lGdGrJdGeWyV3ekg9WVaFMMumrekds96h3Cx7dGz2kWDzIai2iEXE/qoE+xpkyXAYZNV3-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li><!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span aria-label="Search" class="visuallyhidden">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <!-- user account dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-user" style="opacity:0.9;"><span aria-label="User" class="visuallyhidden">User</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><span class='loggedinuser'></span></li>
            <li class="divider"></li>
            <li><a href='/runestone/assignments/chooseAssignment.html'>Assignments</a></li>
            <li><a href='/runestone/assignments/practice'>Practice</a></li>
            <li class="divider"></li>
            
            <li><a href='/runestone/default/courses'>Change Course</a></li>
			      <li class="divider"></li>
            <li id="ip_dropdown_link"><a href='/runestone/admin/index'>Instructor's Page</a></li>
            
            <li><a href='/runestone/dashboard/studentreport'>Progress Page</a></li>
            <li class="divider"></li>
            
            <li><a href="/runestone/default/user/profile" id="profilelink">Edit Profile</a></li>
            <li><a href="/runestone/default/user/change_password" id="passwordlink">Change Password</a></li>
            <li><a href="/runestone/default/user/register" id="registerlink">Register</a></li>
            
            <li class='loginout'><a href='#'>Login</a></li> <!-- correct link populated by addNavbarLoginLink() -->
			<!-- dark mode toggle -->
             <li><label class="theme-switch" for="checkbox">
					  <input type="checkbox" id="checkbox" onchange="switchTheme()" />
							<div class="slider round"></div>
					</label>Dark Mode</li>
			 </ul>
        </li>
        <!-- end user account dropdown -->
        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:ACFactory.toggleScratchActivecode()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span aria-label="Scratch Activecode" class="visuallyhidden">Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"><span aria-label="Help" class="visuallyhidden">Help</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='http://runestoneinteractive.org/pages/faq.html'>FAQ</a></li>
            <li><a href='https://runestone.academy/runestone/static/instructorguide/index.html'>Instructors Guide</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=thinkcpp&page=Chapter9'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>
      
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

      </div> <!-- navbar -->







    </div> <!-- container -->
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">
  
  <div class="section" id="more-structures">
<span id="time"></span><h1>More structures<a class="headerlink" href="#more-structures" title="Permalink to this headline">¶</a></h1>
<div class="section" id="time-1">
<span id="id1"></span><h2>Time<a class="headerlink" href="#time-1" title="Permalink to this headline">¶</a></h2>
<p>As a second example of a user-defined structure, we will define a type
called <code class="docutils literal notranslate"><span class="pre">Time</span></code>, which is used to record the time of day. The various
pieces of information that form a time are the hour, minute and second,
so these will be the instance variables of the structure.</p>
<p>The first step is to decide what type each instance variable should be.
It seems clear that <code class="docutils literal notranslate"><span class="pre">hour</span></code> and <code class="docutils literal notranslate"><span class="pre">minute</span></code> should be integers. Just to
keep things interesting, let’s make <code class="docutils literal notranslate"><span class="pre">second</span></code> a <code class="docutils literal notranslate"><span class="pre">double</span></code>, so we can
record fractions of a second.</p>
<p>Here’s what the structure definition looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">Time</span> <span class="p">{</span>
  <span class="nb">int</span> <span class="n">hour</span><span class="p">,</span> <span class="n">minute</span><span class="p">;</span>
  <span class="n">double</span> <span class="n">second</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>We can create a <code class="docutils literal notranslate"><span class="pre">Time</span></code> object in the usual way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">time</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mf">3.14159</span> <span class="p">};</span>
</pre></div>
</div>
<p>The state diagram for this object looks like this:</p>
<p>The word “instance” is sometimes used when we talk about objects,
because every object is an instance (or example) of some type. The
reason that instance variables are so-named is that every instance of a
type has a copy of the instance variables for that type.</p>
</div>
<div class="section" id="printtime">
<span id="printobject"></span><h2><code class="docutils literal notranslate"><span class="pre">printTime</span></code><a class="headerlink" href="#printtime" title="Permalink to this headline">¶</a></h2>
<p>When we define a new type it is a good idea to write function that
displays the instance variables in a human-readable form. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">printTime</span> <span class="p">(</span><span class="n">Time</span><span class="o">&amp;</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">t</span><span class="o">.</span><span class="n">hour</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">t</span><span class="o">.</span><span class="n">minute</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">t</span><span class="o">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The output of this function, if we pass <code class="docutils literal notranslate"><span class="pre">time</span></code> an argument, is
<code class="docutils literal notranslate"><span class="pre">11:59:3.14159</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;iostream&gt;</span>

<span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="n">struct</span> <span class="n">Time</span> <span class="p">{</span>
  <span class="nb">int</span> <span class="n">hour</span><span class="p">,</span> <span class="n">minute</span><span class="p">;</span>
  <span class="n">double</span> <span class="n">second</span><span class="p">;</span>
<span class="p">};</span>


<span class="n">void</span> <span class="n">printTime</span> <span class="p">(</span><span class="n">Time</span><span class="o">&amp;</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">t</span><span class="o">.</span><span class="n">hour</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">t</span><span class="o">.</span><span class="n">minute</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">t</span><span class="o">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;Time is &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">t</span><span class="o">.</span><span class="n">hour</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot; hour &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">t</span><span class="o">.</span><span class="n">minute</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot; minutes &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">t</span><span class="o">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;  seconds  &quot;</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>


<span class="nb">int</span> <span class="n">main</span> <span class="p">()</span>
<span class="p">{</span>
 <span class="n">Time</span> <span class="n">time</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mf">3.14159</span> <span class="p">};</span>
 <span class="n">printTime</span><span class="p">(</span><span class="n">time</span><span class="p">);</span>

 <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="functions-for-objects">
<span id="objectops"></span><h2>Functions for objects<a class="headerlink" href="#functions-for-objects" title="Permalink to this headline">¶</a></h2>
<p>In the next few sections, I will demonstrate several possible interfaces
for functions that operate on objects. For some operations, you will
have a choice of several possible interfaces, so you should consider the
pros and cons of each of these:</p>
<dl class="simple">
<dt>pure function:</dt><dd><p>Takes objects and/or basic types as arguments but does not modify the
objects. The return value is either a basic type or a new object
created inside the function.</p>
</dd>
<dt>modifier:</dt><dd><p>Takes objects as parameters and modifies some or all of them. Often
returns void.</p>
</dd>
<dt>fill-in function:</dt><dd><p>One of the parameters is an “empty” object that gets filled in by the
function. Technically, this is a type of modifier.</p>
</dd>
</dl>
</div>
<div class="section" id="pure-functions">
<h2>Pure functions<a class="headerlink" href="#pure-functions" title="Permalink to this headline">¶</a></h2>
<p>A function is considered a pure function if the result depends only on
the arguments, and it has no side effects like modifying an argument or
outputting something. The only result of calling a pure function is the
return value.</p>
<p>One example is <code class="docutils literal notranslate"><span class="pre">after</span></code>, which compares two <code class="docutils literal notranslate"><span class="pre">Time</span></code>s and returns a
<code class="docutils literal notranslate"><span class="pre">bool</span></code> that indicates whether the first operand comes after the
second:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bool</span> <span class="n">after</span> <span class="p">(</span><span class="n">Time</span><span class="o">&amp;</span> <span class="n">time1</span><span class="p">,</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">time2</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">time1</span><span class="o">.</span><span class="n">hour</span> <span class="o">&gt;</span> <span class="n">time2</span><span class="o">.</span><span class="n">hour</span><span class="p">)</span> <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">time1</span><span class="o">.</span><span class="n">hour</span> <span class="o">&lt;</span> <span class="n">time2</span><span class="o">.</span><span class="n">hour</span><span class="p">)</span> <span class="k">return</span> <span class="n">false</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">time1</span><span class="o">.</span><span class="n">minute</span> <span class="o">&gt;</span> <span class="n">time2</span><span class="o">.</span><span class="n">minute</span><span class="p">)</span> <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">time1</span><span class="o">.</span><span class="n">minute</span> <span class="o">&lt;</span> <span class="n">time2</span><span class="o">.</span><span class="n">minute</span><span class="p">)</span> <span class="k">return</span> <span class="n">false</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">time1</span><span class="o">.</span><span class="n">second</span> <span class="o">&gt;</span> <span class="n">time2</span><span class="o">.</span><span class="n">second</span><span class="p">)</span> <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>What is the result of this function if the two times are equal? Does
that seem like the appropriate result for this function? If you were
writing the documentation for this function, would you mention that case
specifically?</p>
<p>A second example is <code class="docutils literal notranslate"><span class="pre">addTime</span></code>, which calculates the sum of two times.
For example, if it is <code class="docutils literal notranslate"><span class="pre">9:14:30</span></code>, and your breadmaker takes 3 hours and
35 minutes, you could use <code class="docutils literal notranslate"><span class="pre">addTime</span></code> to figure out when the bread will
be done.</p>
<p>Here is a rough draft of this function that is not quite right:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">addTime</span> <span class="p">(</span><span class="n">Time</span><span class="o">&amp;</span> <span class="n">t1</span><span class="p">,</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t2</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">Time</span> <span class="nb">sum</span><span class="p">;</span>
  <span class="nb">sum</span><span class="o">.</span><span class="n">hour</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">hour</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="n">hour</span><span class="p">;</span>
  <span class="nb">sum</span><span class="o">.</span><span class="n">minute</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">minute</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="n">minute</span><span class="p">;</span>
  <span class="nb">sum</span><span class="o">.</span><span class="n">second</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">second</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="n">second</span><span class="p">;</span>
  <span class="k">return</span> <span class="nb">sum</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here is an example of how to use this function. If <code class="docutils literal notranslate"><span class="pre">currentTime</span></code>
contains the current time and <code class="docutils literal notranslate"><span class="pre">breadTime</span></code> contains the amount of time
it takes for your breadmaker to make bread, then you could use
<code class="docutils literal notranslate"><span class="pre">addTime</span></code> to figure out when the bread will be done.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mf">30.0</span> <span class="p">};</span>
<span class="n">Time</span> <span class="n">breadTime</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">};</span>
<span class="n">Time</span> <span class="n">doneTime</span> <span class="o">=</span> <span class="n">addTime</span> <span class="p">(</span><span class="n">currentTime</span><span class="p">,</span> <span class="n">breadTime</span><span class="p">);</span>
<span class="n">printTime</span> <span class="p">(</span><span class="n">doneTime</span><span class="p">);</span>
</pre></div>
</div>
<p>The output of this program is <code class="docutils literal notranslate"><span class="pre">12:49:30</span></code>, which is correct. On the
other hand, there are cases where the result is not correct. Can you
think of one?</p>
<p>The problem is that this function does not deal with cases where the
number of seconds or minutes adds up to more than 60. When that happens
we have to “carry” the extra seconds into the minutes column, or extra
minutes into the hours column.</p>
<p>Here’s a second, corrected version of this function.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">addTime</span> <span class="p">(</span><span class="n">Time</span><span class="o">&amp;</span> <span class="n">t1</span><span class="p">,</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t2</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">Time</span> <span class="nb">sum</span><span class="p">;</span>
  <span class="nb">sum</span><span class="o">.</span><span class="n">hour</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">hour</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="n">hour</span><span class="p">;</span>
  <span class="nb">sum</span><span class="o">.</span><span class="n">minute</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">minute</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="n">minute</span><span class="p">;</span>
  <span class="nb">sum</span><span class="o">.</span><span class="n">second</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">second</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="n">second</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="nb">sum</span><span class="o">.</span><span class="n">second</span> <span class="o">&gt;=</span> <span class="mf">60.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">sum</span><span class="o">.</span><span class="n">second</span> <span class="o">-=</span> <span class="mf">60.0</span><span class="p">;</span>
    <span class="nb">sum</span><span class="o">.</span><span class="n">minute</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">sum</span><span class="o">.</span><span class="n">minute</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">sum</span><span class="o">.</span><span class="n">minute</span> <span class="o">-=</span> <span class="mi">60</span><span class="p">;</span>
    <span class="nb">sum</span><span class="o">.</span><span class="n">hour</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nb">sum</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Although it’s correct, it’s starting to get big. Later, I will suggest
an alternate approach to this problem that will be much shorter.</p>
<p>This code demonstrates two operators we have not seen before, <code class="docutils literal notranslate"><span class="pre">+=</span></code> and
<code class="docutils literal notranslate"><span class="pre">-=</span></code>. These operators provide a concise way to increment and decrement
variables. For example, the statement <code class="docutils literal notranslate"><span class="pre">sum.second</span> <span class="pre">-=</span> <span class="pre">60.0;</span></code> is
equivalent to <code class="docutils literal notranslate"><span class="pre">sum.second</span> <span class="pre">=</span> <span class="pre">sum.second</span> <span class="pre">-</span> <span class="pre">60;</span></code></p>
</div>
<div class="section" id="const-parameters">
<h2><code class="docutils literal notranslate"><span class="pre">const</span></code> parameters<a class="headerlink" href="#const-parameters" title="Permalink to this headline">¶</a></h2>
<p>You might have noticed that the parameters for <code class="docutils literal notranslate"><span class="pre">after</span></code> and <code class="docutils literal notranslate"><span class="pre">addTime</span></code>
are being passed by reference. Since these are pure functions, they do
not modify the parameters they receive, so I could just as well have
passed them by value.</p>
<p>The advantage of passing by value is that the calling function and the
callee are appropriately encapsulated—it is not possible for a change in
one to affect the other, except by affecting the return value.</p>
<p>On the other hand, passing by reference usually is more efficient,
because it avoids copying the argument. Furthermore, there is a nice
feature in C++, called <code class="docutils literal notranslate"><span class="pre">const</span></code>, that can make reference parameters
just as safe as value parameters.</p>
<p>If you are writing a function and you do not intend to modify a
parameter, you can declare that it is a <strong>constant reference
parameter</strong>. The syntax looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">printTime</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">time</span><span class="p">)</span> <span class="o">...</span>
<span class="n">Time</span> <span class="n">addTime</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t1</span><span class="p">,</span> <span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t2</span><span class="p">)</span> <span class="o">...</span>
</pre></div>
</div>
<p>I’ve included only the first line of the functions. If you tell the
compiler that you don’t intend to change a parameter, it can help remind
you. If you try to change one, you should get a compiler error, or at
least a warning.</p>
</div>
<div class="section" id="modifiers">
<h2>Modifiers<a class="headerlink" href="#modifiers" title="Permalink to this headline">¶</a></h2>
<p>Of course, sometimes you <em>want</em> to modify one of the arguments.
Functions that do are called modifiers.</p>
<p>As an example of a modifier, consider <code class="docutils literal notranslate"><span class="pre">increment</span></code>, which adds a given
number of seconds to a <code class="docutils literal notranslate"><span class="pre">Time</span></code> object. Again, a rough draft of this
function looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">increment</span> <span class="p">(</span><span class="n">Time</span><span class="o">&amp;</span> <span class="n">time</span><span class="p">,</span> <span class="n">double</span> <span class="n">secs</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">time</span><span class="o">.</span><span class="n">second</span> <span class="o">+=</span> <span class="n">secs</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">second</span> <span class="o">&gt;=</span> <span class="mf">60.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">time</span><span class="o">.</span><span class="n">second</span> <span class="o">-=</span> <span class="mf">60.0</span><span class="p">;</span>
    <span class="n">time</span><span class="o">.</span><span class="n">minute</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">minute</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">time</span><span class="o">.</span><span class="n">minute</span> <span class="o">-=</span> <span class="mi">60</span><span class="p">;</span>
    <span class="n">time</span><span class="o">.</span><span class="n">hour</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The first line performs the basic operation; the remainder deals with
the special cases we saw before.</p>
<p>Is this function correct? What happens if the argument <code class="docutils literal notranslate"><span class="pre">secs</span></code> is much
greater than 60? In that case, it is not enough to subtract 60 once; we
have to keep doing it until <code class="docutils literal notranslate"><span class="pre">second</span></code> is below 60. We can do that by
replacing the <code class="docutils literal notranslate"><span class="pre">if</span></code> statements with <code class="docutils literal notranslate"><span class="pre">while</span></code> statements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">increment</span> <span class="p">(</span><span class="n">Time</span><span class="o">&amp;</span> <span class="n">time</span><span class="p">,</span> <span class="n">double</span> <span class="n">secs</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">time</span><span class="o">.</span><span class="n">second</span> <span class="o">+=</span> <span class="n">secs</span><span class="p">;</span>

  <span class="k">while</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">second</span> <span class="o">&gt;=</span> <span class="mf">60.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">time</span><span class="o">.</span><span class="n">second</span> <span class="o">-=</span> <span class="mf">60.0</span><span class="p">;</span>
    <span class="n">time</span><span class="o">.</span><span class="n">minute</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">minute</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">time</span><span class="o">.</span><span class="n">minute</span> <span class="o">-=</span> <span class="mi">60</span><span class="p">;</span>
    <span class="n">time</span><span class="o">.</span><span class="n">hour</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This solution is correct, but not very efficient. Can you think of a
solution that does not require iteration?</p>
</div>
<div class="section" id="fill-in-functions">
<h2>Fill-in functions<a class="headerlink" href="#fill-in-functions" title="Permalink to this headline">¶</a></h2>
<p>Occasionally you will see functions like <code class="docutils literal notranslate"><span class="pre">addTime</span></code> written with a
different interface (different arguments and return values). Instead of
creating a new object every time <code class="docutils literal notranslate"><span class="pre">addTime</span></code> is called, we could require
the caller to provide an “empty” object where <code class="docutils literal notranslate"><span class="pre">addTime</span></code> can store the
result. Compare the following with the previous version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">addTimeFill</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t1</span><span class="p">,</span> <span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t2</span><span class="p">,</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="nb">sum</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">sum</span><span class="o">.</span><span class="n">hour</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">hour</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="n">hour</span><span class="p">;</span>
  <span class="nb">sum</span><span class="o">.</span><span class="n">minute</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">minute</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="n">minute</span><span class="p">;</span>
  <span class="nb">sum</span><span class="o">.</span><span class="n">second</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">second</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="n">second</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="nb">sum</span><span class="o">.</span><span class="n">second</span> <span class="o">&gt;=</span> <span class="mf">60.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">sum</span><span class="o">.</span><span class="n">second</span> <span class="o">-=</span> <span class="mf">60.0</span><span class="p">;</span>
    <span class="nb">sum</span><span class="o">.</span><span class="n">minute</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">sum</span><span class="o">.</span><span class="n">minute</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">sum</span><span class="o">.</span><span class="n">minute</span> <span class="o">-=</span> <span class="mi">60</span><span class="p">;</span>
    <span class="nb">sum</span><span class="o">.</span><span class="n">hour</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>One advantage of this approach is that the caller has the option of
reusing the same object repeatedly to perform a series of additions.
This can be slightly more efficient, although it can be confusing enough
to cause subtle errors. For the vast majority of programming, it is
worth a spending a little run time to avoid a lot of debugging time.</p>
<p>Notice that the first two parameters can be declared <code class="docutils literal notranslate"><span class="pre">const</span></code>, but the
third cannot.</p>
</div>
<div class="section" id="which-is-best">
<h2>Which is best?<a class="headerlink" href="#which-is-best" title="Permalink to this headline">¶</a></h2>
<p>Anything that can be done with modifiers and fill-in functions can also
be done with pure functions. In fact, there are programming languages,
called <strong>functional</strong> programming languages, that only allow pure
functions. Some programmers believe that programs that use pure
functions are faster to develop and less error-prone than programs that
use modifiers. Nevertheless, there are times when modifiers are
convenient, and cases where functional programs are less efficient.</p>
<p>In general, I recommend that you write pure functions whenever it is
reasonable to do so, and resort to modifiers only if there is a
compelling advantage. This approach might be called a functional
programming style.</p>
</div>
<div class="section" id="incremental-development-versus-planning">
<h2>Incremental development versus planning<a class="headerlink" href="#incremental-development-versus-planning" title="Permalink to this headline">¶</a></h2>
<p>In this chapter I have demonstrated an approach to program development I
refer to as <strong>rapid prototyping with iterative improvement</strong>. In each
case, I wrote a rough draft (or prototype) that performed the basic
calculation, and then tested it on a few cases, correcting flaws as I
found them.</p>
<p>Although this approach can be effective, it can lead to code that is
unnecessarily complicated—since it deals with many special cases—and
unreliable—since it is hard to know if you have found all the errors.</p>
<p>An alternative is high-level planning, in which a little insight into
the problem can make the programming much easier. In this case the
insight is that a <code class="docutils literal notranslate"><span class="pre">Time</span></code> is really a three-digit number in base 60!
The <code class="docutils literal notranslate"><span class="pre">second</span></code> is the “ones column,” the <code class="docutils literal notranslate"><span class="pre">minute</span></code> is the “60’s
column”, and the <code class="docutils literal notranslate"><span class="pre">hour</span></code> is the “3600’s column.”</p>
<p>When we wrote <code class="docutils literal notranslate"><span class="pre">addTime</span></code> and <code class="docutils literal notranslate"><span class="pre">increment</span></code>, we were effectively doing
addition in base 60, which is why we had to “carry” from one column to
the next.</p>
<p>Thus an alternate approach to the whole problem is to convert
<code class="docutils literal notranslate"><span class="pre">Time</span></code>s into <code class="docutils literal notranslate"><span class="pre">double</span></code>s and take advantage of the fact that the
computer already knows how to do arithmetic with <code class="docutils literal notranslate"><span class="pre">double</span></code>s. Here is
a function that converts a <code class="docutils literal notranslate"><span class="pre">Time</span></code> into a <code class="docutils literal notranslate"><span class="pre">double</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">double</span> <span class="n">convertToSeconds</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">int</span> <span class="n">minutes</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">hour</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">+</span> <span class="n">t</span><span class="o">.</span><span class="n">minute</span><span class="p">;</span>
  <span class="n">double</span> <span class="n">seconds</span> <span class="o">=</span> <span class="n">minutes</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">+</span> <span class="n">t</span><span class="o">.</span><span class="n">second</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">seconds</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now all we need is a way to convert from a <code class="docutils literal notranslate"><span class="pre">double</span></code> to a <code class="docutils literal notranslate"><span class="pre">Time</span></code>
object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">makeTime</span> <span class="p">(</span><span class="n">double</span> <span class="n">secs</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">Time</span> <span class="n">time</span><span class="p">;</span>
  <span class="n">time</span><span class="o">.</span><span class="n">hour</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">secs</span> <span class="o">/</span> <span class="mf">3600.0</span><span class="p">);</span>
  <span class="n">secs</span> <span class="o">-=</span> <span class="n">time</span><span class="o">.</span><span class="n">hour</span> <span class="o">*</span> <span class="mf">3600.0</span><span class="p">;</span>
  <span class="n">time</span><span class="o">.</span><span class="n">minute</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">secs</span> <span class="o">/</span> <span class="mf">60.0</span><span class="p">);</span>
  <span class="n">secs</span> <span class="o">-=</span> <span class="n">time</span><span class="o">.</span><span class="n">minute</span> <span class="o">*</span> <span class="mi">60</span><span class="p">;</span>
  <span class="n">time</span><span class="o">.</span><span class="n">second</span> <span class="o">=</span> <span class="n">secs</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">time</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You might have to think a bit to convince yourself that the technique I
am using to convert from one base to another is correct. Assuming you
are convinced, we can use these functions to rewrite <code class="docutils literal notranslate"><span class="pre">addTime</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">addTime</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t1</span><span class="p">,</span> <span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t2</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">double</span> <span class="n">seconds</span> <span class="o">=</span> <span class="n">convertToSeconds</span> <span class="p">(</span><span class="n">t1</span><span class="p">)</span> <span class="o">+</span> <span class="n">convertToSeconds</span> <span class="p">(</span><span class="n">t2</span><span class="p">);</span>
  <span class="k">return</span> <span class="n">makeTime</span> <span class="p">(</span><span class="n">seconds</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This is much shorter than the original version, and it is much easier to
demonstrate that it is correct (assuming, as usual, that the functions
it calls are correct). As an exercise, rewrite <code class="docutils literal notranslate"><span class="pre">increment</span></code> the same
way.</p>
</div>
<div class="section" id="generalization">
<h2>Generalization<a class="headerlink" href="#generalization" title="Permalink to this headline">¶</a></h2>
<p>In some ways converting from base 60 to base 10 and back is harder than
just dealing with times. Base conversion is more abstract; our intuition
for dealing with times is better.</p>
<p>But if we have the insight to treat times as base 60 numbers, and make
the investment of writing the conversion functions (<code class="docutils literal notranslate"><span class="pre">convertToSeconds</span></code>
and <code class="docutils literal notranslate"><span class="pre">makeTime</span></code>), we get a program that is shorter, easier to read and
debug, and more reliable.</p>
<p>It is also easier to add more features later. For example, imagine
subtracting two <code class="docutils literal notranslate"><span class="pre">Time</span></code>s to find the duration between them. The naive
approach would be to implement subtraction with borrowing. Using the
conversion functions would be easier and more likely to be correct.</p>
<p>Ironically, sometimes making a problem harder (more general) makes is
easier (fewer special cases, fewer opportunities for error).</p>
</div>
<div class="section" id="algorithms">
<span id="algorithm"></span><h2>Algorithms<a class="headerlink" href="#algorithms" title="Permalink to this headline">¶</a></h2>
<p>When you write a general solution for a class of problems, as opposed to
a specific solution to a single problem, you have written an
<strong>algorithm</strong>. I mentioned this word in Chapter 1, but did not define it
carefully. It is not easy to define, so I will try a couple of
approaches.</p>
<p>First, consider something that is not an algorithm. When you learned to
multiply single-digit numbers, you probably memorized the multiplication
table. In effect, you memorized 100 specific solutions. That kind of
knowledge is not really algorithmic.</p>
<p>But if you were “lazy,” you probably cheated by learning a few tricks.
For example, to find the product of <span class="math notranslate nohighlight">\(n\)</span> and 9, you can write
<span class="math notranslate nohighlight">\(n-1\)</span> as the first digit and <span class="math notranslate nohighlight">\(10-n\)</span> as the second digit.
This trick is a general solution for multiplying any single-digit number
by 9. That’s an algorithm!</p>
<p>Similarly, the techniques you learned for addition with carrying,
subtraction with borrowing, and long division are all algorithms. One of
the characteristics of algorithms is that they do not require any
intelligence to carry out. They are mechanical processes in which each
step follows from the last according to a simple set of rules.</p>
<p>In my opinion, it is embarrassing that humans spend so much time in
school learning to execute algorithms that, quite literally, require no
intelligence.</p>
<p>On the other hand, the process of designing algorithms is interesting,
intellectually challenging, and a central part of what we call
programming.</p>
<p>Some of the things that people do naturally, without difficulty or
conscious thought, are the most difficult to express algorithmically.
Understanding natural language is a good example. We all do it, but so
far no one has been able to explain <em>how</em> we do it, at least not in the
form of an algorithm.</p>
<p>Later in this book, you will have the opportunity to design simple
algorithms for a variety of problems. If you take the next class in the
Computer Science sequence, Data Structures, you will see some of the
most interesting, clever, and useful algorithms computer science has
produced.</p>
</div>
<div class="section" id="glossary">
<h2>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>instance:</dt><dd><p>An example from a category. My cat is an instance of the category
“feline things.” Every object is an instance of some type.</p>
</dd>
<dt>instance variable:</dt><dd><p>One of the named data items that make up an structure. Each structure
has its own copy of the instance variables for its type.</p>
</dd>
<dt>constant reference parameter:</dt><dd><p>A parameter that is passed by reference but that cannot be modified.</p>
</dd>
<dt>pure function:</dt><dd><p>A function whose result depends only on its parameters, and that has
so effects other than returning a value.</p>
</dd>
<dt>functional programming style:</dt><dd><p>A style of program design in which the majority of functions are
pure.</p>
</dd>
<dt>modifier:</dt><dd><p>A function that changes one or more of the objects it receives as
parameters, and usually returns <code class="docutils literal notranslate"><span class="pre">void</span></code>.</p>
</dd>
<dt>fill-in function:</dt><dd><p>A function that takes an “empty” object as a parameter and fills it
its instance variables instead of generating a return value.</p>
</dd>
<dt>algorithm:</dt><dd><p>A set of instructions for solving a class of problems by a
mechanical, unintelligent process.</p>
</dd>
</dl>
</div>
</div>


  <div id=scprogresscontainer>
    You have attempted <span id=scprogresstotal></span> of <span id=scprogressposs></span> activities on this page <div id="subchapterprogress"></div>
  </div>
  
      

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>

<script>
	function mouseOverPrev() {
		document.getElementById("relations-prev").style.opacity=1;
	}

	function mouseOutPrev() {
		document.getElementById("relations-prev").style.opacity=0.4;
	}
	function mouseOverNext() {
		document.getElementById("relations-next").style.opacity=1;
	}

	function mouseOutNext() {
		document.getElementById("relations-next").style.opacity=0.4;
	}
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      
      <span id='numuserspan'></span><span class='loggedinuser'></span>
      
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020 - Based on How to Think Like a Computer Scientist.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> .
    </p>
  </div>
</footer>




<script> getSwitch(); </script>


  </body>
</html>