<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Member functions &#8212; How to Think Like a Computer Scientist - C++</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=DB047029" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/presenter_mode.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jquery-ui-1.10.3.custom.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/user-highlights.css" />
    <link rel="stylesheet" type="text/css" href="../_static/runestone-custom-sphinx-bootstrap.css?v=5.0.0" />
    <link rel="stylesheet" type="text/css" href="../_static/theme-overrides.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/jquery.highlight.js?v=F1C496C8"></script>
    <script src="../_static/sql-wasm.js?v=44FE0709"></script>
    <script src="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.js"></script>
    <script src="../_static/animationbase.js?v=A043C3A7"></script>
    <script src="../_static/pytutor-embed.bundle.js?v=268B5C04"></script>
    <script src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script src="../_static/webglinteractive.js?v=2B768384"></script>
    <script src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script src="../_static/Blob.js?v=AEC2447"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.bidi.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.fallbacks.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.messagestore.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.parser.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.language.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script src="../_static/runestone.js?v=5.0.0"></script>
    <script src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="../_static/jquery-fix.js"></script>
    <script src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script src="../_static/bootstrap-sphinx.js"></script>
    <script src="../_static/waypoints.min.js"></script>
    <script src="../_static/jquery.idle-timer.js"></script>
    <script src="../_static/processing-1.4.1.min.js"></script>
    <script src="../_static/jquery.hotkey.js"></script>
    <script src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <script src="../_static/presenter_mode.js?v=5.0.0"></script>
    <script src="../_static/theme.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = true;
    eBookConfig.host = 'http://127.0.0.1:8000' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/runestone';
    eBookConfig.course = 'thinkcpp';
    eBookConfig.basecourse = 'thinkcpp';
    eBookConfig.isLoggedIn = false;
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = '' ? '' : 'python'
  eBookConfig.runestone_version = '';
  eBookConfig.jobehost = '';
  eBookConfig.proxyuri_runs = '';
  eBookConfig.proxyuri_files = '';
  eBookConfig.enable_chatcodes = false ? false : false;


</script>


<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar" aria-label="navbar toggle" class="visuallyhidden">toggle navbar</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
          <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        
        <a class="navbar-brand" href="../index.html" aria-label="index-page">
          
          thinkcpp
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>


        <!-- social media dropdown -->
        
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-globe" style="opacity: 0.9"><span aria-label="Social" class="visuallyhidden">Social</span></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHNwYJKoZIhvcNAQcEoIIHKDCCByQCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYAcrkqh1hn3lYqIpfXxNqe1T82EhXzCJGy1yMAmklpyZshyMkfDGe1Bhx+iwyGeoYRTTyphFmP+9M3NyO0+Q5XdHxgZPx/zYjjBxlZHgEV6jhE8bN2fHkkPf0VHfz0a0QQylQOPlKiOTZV7B37Jpk6yM47oVZ1tG/KNm0NkfmB76DELMAkGBSsOAwIaBQAwgbQGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIi0GmFfOlcjuAgZBbYOo9UO+CpMQa+PYqwsUmUnJvXIImeMeNI3KVTUx5Cfk9gNMo3WzPeiB5IqZo9nRAQ0mf1qL2ecLeB5tidM+lgBUhOxfj3/FecpnVFa0263gp4g+PLw8jzhvVRdUon1K3SeO1Rzh23fIRKwnrD6btt73uwtj0sl3tGd8qz+6GIcwPDdRk9VcUffiBJT/ZagKgggOHMIIDgzCCAuygAwIBAgIBADANBgkqhkiG9w0BAQUFADCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wHhcNMDQwMjEzMTAxMzE1WhcNMzUwMjEzMTAxMzE1WjCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMFHTt38RMxLXJyO2SmS+Ndl72T7oKJ4u4uw+6awntALWh03PewmIJuzbALScsTS4sZoS1fKciBGoh11gIfHzylvkdNe/hJl66/RGqrj5rFb08sAABNTzDTiqqNpJeBsYs/c2aiGozptX2RlnBktH+SUNpAajW724Nv2Wvhif6sFAgMBAAGjge4wgeswHQYDVR0OBBYEFJaffLvGbxe9WT9S1wob7BDWZJRrMIG7BgNVHSMEgbMwgbCAFJaffLvGbxe9WT9S1wob7BDWZJRroYGUpIGRMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbYIBADAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4GBAIFfOlaagFrl71+jq6OKidbWFSE+Q4FqROvdgIONth+8kSK//Y/4ihuE4Ymvzn5ceE3S/iBSQQMjyvb+s2TWbQYDwcp129OPIbD9epdr4tJOUNiSojw7BHwYRiPh58S1xGlFgHFXwrEBb3dgNbMUa+u4qectsMAXpVHnD9wIyfmHMYIBmjCCAZYCAQEwgZQwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tAgEAMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xMzExMDMxMzQxMzFaMCMGCSqGSIb3DQEJBDEWBBRDJF8w+zsMr7FSk+pwinB5f5D4rzANBgkqhkiG9w0BAQEFAASBgHw1LMHpkpaqHIvDGdFE0eG+2mZlmMnUeDCBhQlbc7QMzFQYKTV94NfaebBO4PmNdADe1rq4WidSRZZbE7CzkX9IGENYnBTWY0hb2l0lGdGrJdGeWyV3ekg9WVaFMMumrekds96h3Cx7dGz2kWDzIai2iEXE/qoE+xpkyXAYZNV3-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li><!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span aria-label="Search" class="visuallyhidden">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <!-- user account dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-user" style="opacity:0.9;"><span aria-label="User" class="visuallyhidden">User</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><span class='loggedinuser'></span></li>
            <li class="divider"></li>
            <li><a href='/runestone/assignments/chooseAssignment.html'>Assignments</a></li>
            <li><a href='/runestone/assignments/practice'>Practice</a></li>
            <li class="divider"></li>
            
            <li><a href='/runestone/default/courses'>Change Course</a></li>
			      <li class="divider"></li>
            <li id="ip_dropdown_link"><a href='/runestone/admin/index'>Instructor's Page</a></li>
            
            <li><a href='/runestone/dashboard/studentreport'>Progress Page</a></li>
            <li class="divider"></li>
            
            <li><a href="/runestone/default/user/profile" id="profilelink">Edit Profile</a></li>
            <li><a href="/runestone/default/user/change_password" id="passwordlink">Change Password</a></li>
            <li><a href="/runestone/default/user/register" id="registerlink">Register</a></li>
            
            <li class='loginout'><a href='#'>Login</a></li> <!-- correct link populated by addNavbarLoginLink() -->
			<!-- dark mode toggle -->
             <li><label class="theme-switch" for="checkbox">
					  <input type="checkbox" id="checkbox" onchange="switchTheme()" />
							<div class="slider round"></div>
					</label>Dark Mode</li>
			 </ul>
        </li>
        <!-- end user account dropdown -->
        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:ACFactory.toggleScratchActivecode()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span aria-label="Scratch Activecode" class="visuallyhidden">Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"><span aria-label="Help" class="visuallyhidden">Help</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='http://runestoneinteractive.org/pages/faq.html'>FAQ</a></li>
            <li><a href='https://runestone.academy/runestone/static/instructorguide/index.html'>Instructors Guide</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=thinkcpp&page=Chapter11'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>
      
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

      </div> <!-- navbar -->







    </div> <!-- container -->
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">
  
  <div class="section" id="member-functions">
<h1>Member functions<a class="headerlink" href="#member-functions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="objects-and-functions">
<h2>Objects and functions<a class="headerlink" href="#objects-and-functions" title="Permalink to this headline">¶</a></h2>
<p>C++ is generally considered an object-oriented programming language,
which means that it provides features that support object-oriented
programming.</p>
<p>It’s not easy to define object-oriented programming, but we have already
seen some features of it:</p>
<ol class="arabic simple">
<li><p>Programs are made up of a collection of structure definitions and
function definitions, where most of the functions operate on specific
kinds of structures (or objecs).</p></li>
<li><p>Each structure definition corresponds to some object or concept in
the real world, and the functions that operate on that structure
correspond to the ways real-world objects interact.</p></li>
</ol>
<p>For example, the <code class="docutils literal notranslate"><span class="pre">Time</span></code> structure we defined in
Chapter <a class="reference external" href="#time">[time]</a> obviously corresponds to the way people
record the time of day, and the operations we defined correspond to the
sorts of things people do with recorded times. Similarly, the <code class="docutils literal notranslate"><span class="pre">Point</span></code>
and <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> structures correspond to the mathematical concept of a
point and a rectangle.</p>
<p>So far, though, we have not taken advantage of the features C++ provides
to support object-oriented programming. Strictly speaking, these
features are not necessary. For the most part they provide an alternate
syntax for doing things we have already done, but in many cases the
alternate syntax is more concise and more accurately conveys the
structure of the program.</p>
<p>For example, in the <code class="docutils literal notranslate"><span class="pre">Time</span></code> program, there is no obvious connection
between the structure definition and the function definitions that
follow. With some examination, it is apparent that every function takes
at least one <code class="docutils literal notranslate"><span class="pre">Time</span></code> structure as a parameter.</p>
<p>This observation is the motivation for <strong>member functions</strong>. Member
function differ from the other functions we have written in two ways:</p>
<ol class="arabic simple">
<li><p>When we call the function, we <strong>invoke</strong> it on an object, rather than
just call it. People sometimes describe this process as “performing
an operation on an object,” or “sending a message to an object.”</p></li>
<li><p>The function is <em>declared</em> inside the <code class="docutils literal notranslate"><span class="pre">struct</span></code> definition, in order
to make the relationship between the structure and the function
explicit.</p></li>
</ol>
<p>In the next few sections, we will take the functions from
Chapter <a class="reference external" href="#time">[time]</a> and transform them into member functions. One
thing you should realize is that this transformation is purely
mechanical; in other words, you can do it just by following a sequence
of steps.</p>
<p>As I said, anything that can be done with a member function can also be
done with a nonmember function (sometimes called a <strong>free-standing</strong>
function). But sometimes there is an advantage to one over the other. If
you are comfortable converting from one form to another, you will be
able to choose the best form for whatever you are doing.</p>
</div>
<div class="section" id="print">
<h2><code class="docutils literal notranslate"><span class="pre">print</span></code><a class="headerlink" href="#print" title="Permalink to this headline">¶</a></h2>
<p>In Chapter <a class="reference external" href="#time">[time]</a> we defined a structure named <code class="docutils literal notranslate"><span class="pre">Time</span></code> and
wrote a function named <code class="docutils literal notranslate"><span class="pre">printTime</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">Time</span> <span class="p">{</span>
  <span class="nb">int</span> <span class="n">hour</span><span class="p">,</span> <span class="n">minute</span><span class="p">;</span>
  <span class="n">double</span> <span class="n">second</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">void</span> <span class="n">printTime</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">time</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">time</span><span class="o">.</span><span class="n">hour</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">time</span><span class="o">.</span><span class="n">minute</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">time</span><span class="o">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To call this function, we had to pass a <code class="docutils literal notranslate"><span class="pre">Time</span></code> object as a parameter.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mf">30.0</span> <span class="p">};</span>
<span class="n">printTime</span> <span class="p">(</span><span class="n">currentTime</span><span class="p">);</span>
</pre></div>
</div>
<p>To make <code class="docutils literal notranslate"><span class="pre">printTime</span></code> into a member function, the first step is to
change the name of the function from <code class="docutils literal notranslate"><span class="pre">printTime</span></code> to <code class="docutils literal notranslate"><span class="pre">Time::print</span></code>.
The <code class="docutils literal notranslate"><span class="pre">::</span></code> operator separates the name of the structure from the name of
the function; together they indicate that this is a function named
<code class="docutils literal notranslate"><span class="pre">print</span></code> that can be invoked on a <code class="docutils literal notranslate"><span class="pre">Time</span></code> structure.</p>
<p>The next step is to eliminate the parameter. Instead of passing an
object as an argument, we are going to invoke the function on an object.</p>
<p>As a result, inside the function, we no longer have a parameter named
<code class="docutils literal notranslate"><span class="pre">time</span></code>. Instead, we have a <strong>current object</strong>, which is the object the
function is invoked on. We can refer to the current object using the C++
keyword <code class="docutils literal notranslate"><span class="pre">this</span></code>.</p>
<p>One thing that makes life a little difficult is that <code class="docutils literal notranslate"><span class="pre">this</span></code> is
actually a <strong>pointer</strong> to a structure, rather than a structure itself. A
pointer is similar to a reference, but I don’t want to go into the
details of using pointers yet. The only pointer operation we need for
now is the <a href="#id1"><span class="problematic" id="id2">``</span></a>`` operator, which converts a structure pointer into a
structure. In the following function, we use it to assign the value of
<code class="docutils literal notranslate"><span class="pre">this</span></code> to a local variable named <code class="docutils literal notranslate"><span class="pre">time</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Time</span><span class="p">::</span><span class="nb">print</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">Time</span> <span class="n">time</span> <span class="o">=</span> <span class="o">*</span><span class="n">this</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">time</span><span class="o">.</span><span class="n">hour</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">time</span><span class="o">.</span><span class="n">minute</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">time</span><span class="o">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The first two lines of this function changed quite a bit as we
transformed it into a member function, but notice that the output
statement itself did not change at all.</p>
<p>In order to invoke the new version of <code class="docutils literal notranslate"><span class="pre">print</span></code>, we have to invoke it on
a <code class="docutils literal notranslate"><span class="pre">Time</span></code> object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mf">30.0</span> <span class="p">};</span>
<span class="n">currentTime</span><span class="o">.</span><span class="n">print</span> <span class="p">();</span>
</pre></div>
</div>
<p>The last step of the transformation process is that we have to declare
the new function inside the structure definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">Time</span> <span class="p">{</span>
  <span class="nb">int</span> <span class="n">hour</span><span class="p">,</span> <span class="n">minute</span><span class="p">;</span>
  <span class="n">double</span> <span class="n">second</span><span class="p">;</span>

  <span class="n">void</span> <span class="n">Time</span><span class="p">::</span><span class="nb">print</span> <span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
<p>A <strong>function declaration</strong> looks just like the first line of the
function definition, except that it has a semi-colon at the end. The
declaration describes the <strong>interface</strong> of the function; that is, the
number and types of the arguments, and the type of the return value.</p>
<p>When you declare a function, you are making a promise to the compiler
that you will, at some point later on in the program, provide a
definition for the function. This definition is sometimes called the
<strong>implementation</strong> of the function, since it contains the details of how
the function works. If you omit the definition, or provide a definition
that has an interface different from what you promised, the compiler
will complain.</p>
</div>
<div class="section" id="implicit-variable-access">
<h2>Implicit variable access<a class="headerlink" href="#implicit-variable-access" title="Permalink to this headline">¶</a></h2>
<p>Actually, the new version of <code class="docutils literal notranslate"><span class="pre">Time::print</span></code> is more complicated than it
needs to be. We don’t really need to create a local variable in order to
refer to the instance variables of the current object.</p>
<p>If the function refers to <code class="docutils literal notranslate"><span class="pre">hour</span></code>, <code class="docutils literal notranslate"><span class="pre">minute</span></code>, or <code class="docutils literal notranslate"><span class="pre">second</span></code>, all by
themselves with no dot notation, C++ knows that it must be referring to
the current object. So we could have written:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Time</span><span class="p">::</span><span class="nb">print</span> <span class="p">()</span>
<span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">hour</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">minute</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This kind of variable access is called “implicit” because the name of
the object does not appear explicitly. Features like this are one reason
member functions are often more concise than nonmember functions.</p>
</div>
<div class="section" id="another-example">
<h2>Another example<a class="headerlink" href="#another-example" title="Permalink to this headline">¶</a></h2>
<p>Let’s convert <code class="docutils literal notranslate"><span class="pre">increment</span></code> to a member function. Again, we are going to
transform one of the parameters into the implicit parameter called
<code class="docutils literal notranslate"><span class="pre">this</span></code>. Then we can go through the function and make all the variable
accesses implicit.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Time</span><span class="p">::</span><span class="n">increment</span> <span class="p">(</span><span class="n">double</span> <span class="n">secs</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">second</span> <span class="o">+=</span> <span class="n">secs</span><span class="p">;</span>

  <span class="k">while</span> <span class="p">(</span><span class="n">second</span> <span class="o">&gt;=</span> <span class="mf">60.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">second</span> <span class="o">-=</span> <span class="mf">60.0</span><span class="p">;</span>
    <span class="n">minute</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">minute</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">minute</span> <span class="o">-=</span> <span class="mf">60.0</span><span class="p">;</span>
    <span class="n">hour</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>By the way, remember that this is not the most efficient implementation
of this function. If you didn’t do it back in
Chapter <a class="reference external" href="#time">[time]</a>, you should write a more efficient version
now.</p>
<p>To declare the function, we can just copy the first line into the
structure definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">Time</span> <span class="p">{</span>
  <span class="nb">int</span> <span class="n">hour</span><span class="p">,</span> <span class="n">minute</span><span class="p">;</span>
  <span class="n">double</span> <span class="n">second</span><span class="p">;</span>

  <span class="n">void</span> <span class="n">Time</span><span class="p">::</span><span class="nb">print</span> <span class="p">();</span>
  <span class="n">void</span> <span class="n">Time</span><span class="p">::</span><span class="n">increment</span> <span class="p">(</span><span class="n">double</span> <span class="n">secs</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>And again, to call it, we have to invoke it on a <code class="docutils literal notranslate"><span class="pre">Time</span></code> object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mf">30.0</span> <span class="p">};</span>
<span class="n">currentTime</span><span class="o">.</span><span class="n">increment</span> <span class="p">(</span><span class="mf">500.0</span><span class="p">);</span>
<span class="n">currentTime</span><span class="o">.</span><span class="n">print</span> <span class="p">();</span>
</pre></div>
</div>
<p>The output of this program is <code class="docutils literal notranslate"><span class="pre">9:22:50</span></code>.</p>
</div>
<div class="section" id="yet-another-example">
<h2>Yet another example<a class="headerlink" href="#yet-another-example" title="Permalink to this headline">¶</a></h2>
<p>The original version of <code class="docutils literal notranslate"><span class="pre">convertToSeconds</span></code> looked like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">double</span> <span class="n">convertToSeconds</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">time</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">int</span> <span class="n">minutes</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">hour</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">+</span> <span class="n">time</span><span class="o">.</span><span class="n">minute</span><span class="p">;</span>
  <span class="n">double</span> <span class="n">seconds</span> <span class="o">=</span> <span class="n">minutes</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">+</span> <span class="n">time</span><span class="o">.</span><span class="n">second</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">seconds</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It is straightforward to convert this to a member function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">double</span> <span class="n">Time</span><span class="p">::</span><span class="n">convertToSeconds</span> <span class="p">()</span> <span class="n">const</span> <span class="p">{</span>
  <span class="nb">int</span> <span class="n">minutes</span> <span class="o">=</span> <span class="n">hour</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">+</span> <span class="n">minute</span><span class="p">;</span>
  <span class="n">double</span> <span class="n">seconds</span> <span class="o">=</span> <span class="n">minutes</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">+</span> <span class="n">second</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">seconds</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The interesting thing here is that the implicit parameter should be
declared <code class="docutils literal notranslate"><span class="pre">const</span></code>, since we don’t modify it in this function. But it is
not obvious where we should put information about a parameter that
doesn’t exist. The answer, as you can see in the example, is after the
parameter list (which is empty in this case).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">print</span></code> function in the previous section should also declare that
the implicit parameter is <code class="docutils literal notranslate"><span class="pre">const</span></code>.</p>
</div>
<div class="section" id="a-more-complicated-example">
<h2>A more complicated example<a class="headerlink" href="#a-more-complicated-example" title="Permalink to this headline">¶</a></h2>
<p>Although the process of transforming functions into member functions is
mechanical, there are some oddities. For example, <code class="docutils literal notranslate"><span class="pre">after</span></code> operates on
two <code class="docutils literal notranslate"><span class="pre">Time</span></code> structures, not just one, and we can’t make both of them
implicit. Instead, we have to invoke the function on one of them and
pass the other as an argument.</p>
<p>Inside the function, we can refer to one of the them implicitly, but to
access the instance variables of the other we continue to use dot
notation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bool</span> <span class="n">Time</span><span class="p">::</span><span class="n">after</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">time2</span><span class="p">)</span> <span class="n">const</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">hour</span> <span class="o">&gt;</span> <span class="n">time2</span><span class="o">.</span><span class="n">hour</span><span class="p">)</span> <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">hour</span> <span class="o">&lt;</span> <span class="n">time2</span><span class="o">.</span><span class="n">hour</span><span class="p">)</span> <span class="k">return</span> <span class="n">false</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">minute</span> <span class="o">&gt;</span> <span class="n">time2</span><span class="o">.</span><span class="n">minute</span><span class="p">)</span> <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">minute</span> <span class="o">&lt;</span> <span class="n">time2</span><span class="o">.</span><span class="n">minute</span><span class="p">)</span> <span class="k">return</span> <span class="n">false</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">second</span> <span class="o">&gt;</span> <span class="n">time2</span><span class="o">.</span><span class="n">second</span><span class="p">)</span> <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To invoke this function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">doneTime</span><span class="o">.</span><span class="n">after</span> <span class="p">(</span><span class="n">currentTime</span><span class="p">))</span> <span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;The bread will be done after it starts.&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can almost read the invocation like English: “If the done-time is
after the current-time, then…”</p>
</div>
<div class="section" id="constructors">
<h2>Constructors<a class="headerlink" href="#constructors" title="Permalink to this headline">¶</a></h2>
<p>Another function we wrote in Chapter <a class="reference external" href="#time">[time]</a> was
<code class="docutils literal notranslate"><span class="pre">makeTime</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">makeTime</span> <span class="p">(</span><span class="n">double</span> <span class="n">secs</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">Time</span> <span class="n">time</span><span class="p">;</span>
  <span class="n">time</span><span class="o">.</span><span class="n">hour</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">secs</span> <span class="o">/</span> <span class="mf">3600.0</span><span class="p">);</span>
  <span class="n">secs</span> <span class="o">-=</span> <span class="n">time</span><span class="o">.</span><span class="n">hour</span> <span class="o">*</span> <span class="mf">3600.0</span><span class="p">;</span>
  <span class="n">time</span><span class="o">.</span><span class="n">minute</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">secs</span> <span class="o">/</span> <span class="mf">60.0</span><span class="p">);</span>
  <span class="n">secs</span> <span class="o">-=</span> <span class="n">time</span><span class="o">.</span><span class="n">minute</span> <span class="o">*</span> <span class="mf">60.0</span><span class="p">;</span>
  <span class="n">time</span><span class="o">.</span><span class="n">second</span> <span class="o">=</span> <span class="n">secs</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">time</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Of course, for every new type, we need to be able to create new objects.
In fact, functions like <code class="docutils literal notranslate"><span class="pre">makeTime</span></code> are so common that there is a
special function syntax for them. These functions are called
<strong>constructors</strong> and the syntax looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span><span class="p">::</span><span class="n">Time</span> <span class="p">(</span><span class="n">double</span> <span class="n">secs</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">hour</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">secs</span> <span class="o">/</span> <span class="mf">3600.0</span><span class="p">);</span>
  <span class="n">secs</span> <span class="o">-=</span> <span class="n">hour</span> <span class="o">*</span> <span class="mf">3600.0</span><span class="p">;</span>
  <span class="n">minute</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">secs</span> <span class="o">/</span> <span class="mf">60.0</span><span class="p">);</span>
  <span class="n">secs</span> <span class="o">-=</span> <span class="n">minute</span> <span class="o">*</span> <span class="mf">60.0</span><span class="p">;</span>
  <span class="n">second</span> <span class="o">=</span> <span class="n">secs</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>First, notice that the constructor has the same name as the class, and
no return type. The arguments haven’t changed, though.</p>
<p>Second, notice that we don’t have to create a new time object, and we
don’t have to return anything. Both of these steps are handled
automatically. We can refer to the new object—the one we are
constructing—using the keyword <code class="docutils literal notranslate"><span class="pre">this</span></code>, or implicitly as shown here.
When we write values to <code class="docutils literal notranslate"><span class="pre">hour</span></code>, <code class="docutils literal notranslate"><span class="pre">minute</span></code> and <code class="docutils literal notranslate"><span class="pre">second</span></code>, the
compiler knows we are referring to the instance variables of the new
object.</p>
<p>To invoke the constructor, you use syntax that is a cross between a
variable declaration and a function call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">time</span> <span class="p">(</span><span class="n">seconds</span><span class="p">);</span>
</pre></div>
</div>
<p>This statement declares that the variable <code class="docutils literal notranslate"><span class="pre">time</span></code> has type <code class="docutils literal notranslate"><span class="pre">Time</span></code>,
and it invokes the constructor we just wrote, passing the value of
<code class="docutils literal notranslate"><span class="pre">seconds</span></code> as an argument. The system allocates space for the new
object and the constructor initializes its instance variables. The
result is assigned to the variable <code class="docutils literal notranslate"><span class="pre">time</span></code>.</p>
</div>
<div class="section" id="initialize-or-construct">
<h2>Initialize or construct?<a class="headerlink" href="#initialize-or-construct" title="Permalink to this headline">¶</a></h2>
<p>Earlier we declared and initialized some <code class="docutils literal notranslate"><span class="pre">Time</span></code> structures using
squiggly-braces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mf">30.0</span> <span class="p">};</span>
<span class="n">Time</span> <span class="n">breadTime</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">};</span>
</pre></div>
</div>
<p>Now, using constructors, we have a different way to declare and
initialize:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">time</span> <span class="p">(</span><span class="n">seconds</span><span class="p">);</span>
</pre></div>
</div>
<p>These two functions represent different programming styles, and
different points in the history of C++. Maybe for that reason, the C++
compiler requires that you use one or the other, and not both in the
same program.</p>
<p>If you define a constructor for a structure, then you have to use the
constructor to initialize all new structures of that type. The alternate
syntax using squiggly-braces is no longer allowed.</p>
<p>Fortunately, it is legal to overload constructors in the same way we
overloaded functions. In other words, there can be more than one
constructor with the same “name,” as long as they take different
parameters. Then, when we initialize a new object the compiler will try
to find a constructor that takes the appropriate parameters.</p>
<p>For example, it is common to have a constructor that takes one parameter
for each instance variable, and that assigns the values of the
parameters to the instance variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span><span class="p">::</span><span class="n">Time</span> <span class="p">(</span><span class="nb">int</span> <span class="n">h</span><span class="p">,</span> <span class="nb">int</span> <span class="n">m</span><span class="p">,</span> <span class="n">double</span> <span class="n">s</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">hour</span> <span class="o">=</span> <span class="n">h</span><span class="p">;</span>  <span class="n">minute</span> <span class="o">=</span> <span class="n">m</span><span class="p">;</span>  <span class="n">second</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To invoke this constructor, we use the same funny syntax as before,
except that the arguments have to be two integers and a <code class="docutils literal notranslate"><span class="pre">double</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">currentTime</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="one-last-example">
<h2>One last example<a class="headerlink" href="#one-last-example" title="Permalink to this headline">¶</a></h2>
<p>The final example we’ll look at is <code class="docutils literal notranslate"><span class="pre">addTime</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">addTime2</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t1</span><span class="p">,</span> <span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t2</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">double</span> <span class="n">seconds</span> <span class="o">=</span> <span class="n">convertToSeconds</span> <span class="p">(</span><span class="n">t1</span><span class="p">)</span> <span class="o">+</span> <span class="n">convertToSeconds</span> <span class="p">(</span><span class="n">t2</span><span class="p">);</span>
  <span class="k">return</span> <span class="n">makeTime</span> <span class="p">(</span><span class="n">seconds</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>We have to make several changes to this function, including:</p>
<ol class="arabic simple">
<li><p>Change the name from <code class="docutils literal notranslate"><span class="pre">addTime</span></code> to <code class="docutils literal notranslate"><span class="pre">Time::add</span></code>.</p></li>
<li><p>Replace the first parameter with an implicit parameter, which should
be declared <code class="docutils literal notranslate"><span class="pre">const</span></code>.</p></li>
<li><p>Replace the use of <code class="docutils literal notranslate"><span class="pre">makeTime</span></code> with a constructor invocation.</p></li>
</ol>
<p>Here’s the result:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">Time</span><span class="p">::</span><span class="n">add</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t2</span><span class="p">)</span> <span class="n">const</span> <span class="p">{</span>
  <span class="n">double</span> <span class="n">seconds</span> <span class="o">=</span> <span class="n">convertToSeconds</span> <span class="p">()</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="n">convertToSeconds</span> <span class="p">();</span>
  <span class="n">Time</span> <span class="n">time</span> <span class="p">(</span><span class="n">seconds</span><span class="p">);</span>
  <span class="k">return</span> <span class="n">time</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The first time we invoke <code class="docutils literal notranslate"><span class="pre">convertToSeconds</span></code>, there is no apparent
object! Inside a member function, the compiler assumes that we want to
invoke the function on the current object. Thus, the first invocation
acts on <code class="docutils literal notranslate"><span class="pre">this</span></code>; the second invocation acts on <code class="docutils literal notranslate"><span class="pre">t2</span></code>.</p>
<p>The next line of the function invokes the constructor that takes a
single <code class="docutils literal notranslate"><span class="pre">double</span></code> as a parameter; the last line returns the resulting
object.</p>
</div>
<div class="section" id="header-files">
<h2>Header files<a class="headerlink" href="#header-files" title="Permalink to this headline">¶</a></h2>
<p>It might seem like a nuisance to declare functions inside the structure
definition and then define the functions later. Any time you change the
interface to a function, you have to change it in two places, even if it
is a small change like declaring one of the parameters <code class="docutils literal notranslate"><span class="pre">const</span></code>.</p>
<p>There is a reason for the hassle, though, which is that it is now
possible to separate the structure definition and the functions into two
files: the <strong>header file</strong>, which contains the structure definition, and
the implementation file, which contains the functions.</p>
<p>Header files usually have the same name as the implementation file, but
with the suffix <code class="docutils literal notranslate"><span class="pre">.h</span></code> instead of <code class="docutils literal notranslate"><span class="pre">.cpp</span></code>. For the example we have been
looking at, the header file is called <code class="docutils literal notranslate"><span class="pre">Time.h</span></code>, and it contains the
following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">Time</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">instance</span> <span class="n">variables</span>
  <span class="nb">int</span> <span class="n">hour</span><span class="p">,</span> <span class="n">minute</span><span class="p">;</span>
  <span class="n">double</span> <span class="n">second</span><span class="p">;</span>

  <span class="o">//</span> <span class="n">constructors</span>
  <span class="n">Time</span> <span class="p">(</span><span class="nb">int</span> <span class="n">hour</span><span class="p">,</span> <span class="nb">int</span> <span class="nb">min</span><span class="p">,</span> <span class="n">double</span> <span class="n">secs</span><span class="p">);</span>
  <span class="n">Time</span> <span class="p">(</span><span class="n">double</span> <span class="n">secs</span><span class="p">);</span>

  <span class="o">//</span> <span class="n">modifiers</span>
  <span class="n">void</span> <span class="n">increment</span> <span class="p">(</span><span class="n">double</span> <span class="n">secs</span><span class="p">);</span>

  <span class="o">//</span> <span class="n">functions</span>
  <span class="n">void</span> <span class="nb">print</span> <span class="p">()</span> <span class="n">const</span><span class="p">;</span>
  <span class="nb">bool</span> <span class="n">after</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">time2</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
  <span class="n">Time</span> <span class="n">add</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t2</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
  <span class="n">double</span> <span class="n">convertToSeconds</span> <span class="p">()</span> <span class="n">const</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Notice that in the structure definition I don’t really have to include
the prefix <code class="docutils literal notranslate"><span class="pre">Time::</span></code> at the beginning of every function name. The
compiler knows that we are declaring functions that are members of the
<code class="docutils literal notranslate"><span class="pre">Time</span></code> structure.</p>
<p><code class="docutils literal notranslate"><span class="pre">Time.cpp</span></code> contains the definitions of the member functions (I have
elided the function bodies to save space):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;iostream&gt;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="c1">#include &quot;Time.h&quot;</span>

<span class="n">Time</span><span class="p">::</span><span class="n">Time</span> <span class="p">(</span><span class="nb">int</span> <span class="n">h</span><span class="p">,</span> <span class="nb">int</span> <span class="n">m</span><span class="p">,</span> <span class="n">double</span> <span class="n">s</span><span class="p">)</span>  <span class="o">...</span>

<span class="n">Time</span><span class="p">::</span><span class="n">Time</span> <span class="p">(</span><span class="n">double</span> <span class="n">secs</span><span class="p">)</span> <span class="o">...</span>

<span class="n">void</span> <span class="n">Time</span><span class="p">::</span><span class="n">increment</span> <span class="p">(</span><span class="n">double</span> <span class="n">secs</span><span class="p">)</span> <span class="o">...</span>

<span class="n">void</span> <span class="n">Time</span><span class="p">::</span><span class="nb">print</span> <span class="p">()</span> <span class="n">const</span> <span class="o">...</span>

<span class="nb">bool</span> <span class="n">Time</span><span class="p">::</span><span class="n">after</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">time2</span><span class="p">)</span> <span class="n">const</span> <span class="o">...</span>

<span class="n">Time</span> <span class="n">Time</span><span class="p">::</span><span class="n">add</span> <span class="p">(</span><span class="n">const</span> <span class="n">Time</span><span class="o">&amp;</span> <span class="n">t2</span><span class="p">)</span> <span class="n">const</span> <span class="o">...</span>

<span class="n">double</span> <span class="n">Time</span><span class="p">::</span><span class="n">convertToSeconds</span> <span class="p">()</span> <span class="n">const</span> <span class="o">...</span>
</pre></div>
</div>
<p>In this case the definitions in <code class="docutils literal notranslate"><span class="pre">Time.cpp</span></code> appear in the same order as
the declarations in <code class="docutils literal notranslate"><span class="pre">Time.h</span></code>, although it is not necessary.</p>
<p>On the other hand, it is necessary to include the header file using an
<code class="docutils literal notranslate"><span class="pre">include</span></code> statement. That way, while the compiler is reading the
function definitions, it knows enough about the structure to check the
code and catch errors.</p>
<p>Finally, <code class="docutils literal notranslate"><span class="pre">main.cpp</span></code> contains the function <code class="docutils literal notranslate"><span class="pre">main</span></code> along with any
functions we want that are not members of the <code class="docutils literal notranslate"><span class="pre">Time</span></code> structure (in
this case there are none):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;iostream&gt;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="c1">#include &quot;Time.h&quot;</span>

<span class="nb">int</span> <span class="n">main</span> <span class="p">()</span>
<span class="p">{</span>
  <span class="n">Time</span> <span class="n">currentTime</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">);</span>
  <span class="n">currentTime</span><span class="o">.</span><span class="n">increment</span> <span class="p">(</span><span class="mf">500.0</span><span class="p">);</span>
  <span class="n">currentTime</span><span class="o">.</span><span class="n">print</span> <span class="p">();</span>

  <span class="n">Time</span> <span class="n">breadTime</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">);</span>
  <span class="n">Time</span> <span class="n">doneTime</span> <span class="o">=</span> <span class="n">currentTime</span><span class="o">.</span><span class="n">add</span> <span class="p">(</span><span class="n">breadTime</span><span class="p">);</span>
  <span class="n">doneTime</span><span class="o">.</span><span class="n">print</span> <span class="p">();</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">doneTime</span><span class="o">.</span><span class="n">after</span> <span class="p">(</span><span class="n">currentTime</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;The bread will be done after it starts.&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Again, <code class="docutils literal notranslate"><span class="pre">main.cpp</span></code> has to include the header file.</p>
<p>It may not be obvious why it is useful to break such a small program
into three pieces. In fact, most of the advantages come when we are
working with larger programs:</p>
<dl class="simple">
<dt>Reuse:</dt><dd><p>Once you have written a structure like <code class="docutils literal notranslate"><span class="pre">Time</span></code>, you might find it
useful in more than one program. By separating the definition of
<code class="docutils literal notranslate"><span class="pre">Time</span></code> from <code class="docutils literal notranslate"><span class="pre">main.cpp</span></code>, you make is easy to include the <code class="docutils literal notranslate"><span class="pre">Time</span></code>
structure in another program.</p>
</dd>
<dt>Managing interactions:</dt><dd><p>As systems become large, the number of interactions between
components grows and quickly becomes unmanageable. It is often useful
to minimize these interactions by separating modules like
<code class="docutils literal notranslate"><span class="pre">Time.cpp</span></code> from the programs that use them.</p>
</dd>
<dt>Separate compilation:</dt><dd><p>Separate files can be compiled separately and then linked into a
single program later. The details of how to do this depend on your
programming environment. As the program gets large, separate
compilation can save a lot of time, since you usually need to compile
only a few files at a time.</p>
</dd>
</dl>
<p>For small programs like the ones in this book, there is no great
advantage to splitting up programs. But it is good for you to know about
this feature, especially since it explains one of the statements that
appeared in the first program we wrote:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;iostream&gt;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">iostream</span></code> is the header file that contains declarations for <code class="docutils literal notranslate"><span class="pre">cin</span></code>
and <code class="docutils literal notranslate"><span class="pre">cout</span></code> and the functions that operate on them. When you compile
your program, you need the information in that header file.</p>
<p>The implementations of those functions are stored in a library,
sometimes called the “Standard Library” that gets linked to your program
automatically. The nice thing is that you don’t have to recompile the
library every time you compile a program. For the most part the library
doesn’t change, so there is no reason to recompile it.</p>
</div>
<div class="section" id="glossary">
<h2>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>member function:</dt><dd><p>A function that operates on an object that is passed as an implicit
parameter named <code class="docutils literal notranslate"><span class="pre">this</span></code>.</p>
</dd>
<dt>nonmember function:</dt><dd><p>A function that is not a member of any structure definition. Also
called a “free-standing” function.</p>
</dd>
<dt>invoke:</dt><dd><p>To call a function “on” an object, in order to pass the object as an
implicit parameter.</p>
</dd>
<dt>current object:</dt><dd><p>The object on which a member function is invoked. Inside the member
function, we can refer to the current object implicitly, or by using
the keyword <code class="docutils literal notranslate"><span class="pre">this</span></code>.</p>
</dd>
<dt>this:</dt><dd><p>A keyword that refers to the current object. <code class="docutils literal notranslate"><span class="pre">this</span></code> is a pointer,
which makes it difficult to use, since we do not cover pointers in
this book.</p>
</dd>
<dt>interface:</dt><dd><p>A description of how a function is used, including the number and
types of the parameters and the type of the return value.</p>
</dd>
<dt>function declaration:</dt><dd><p>A statement that declares the interface to a function without
providing the body. Declarations of member functions appear inside
structure definitions even if the definitions appear outside.</p>
</dd>
<dt>implementation:</dt><dd><p>The body of a function, or the details of how a function works.</p>
</dd>
<dt>constructor:</dt><dd><p>A special function that initializes the instance variables of a
newly-created object.</p>
</dd>
</dl>
</div>
</div>


  <div id=scprogresscontainer>
    You have attempted <span id=scprogresstotal></span> of <span id=scprogressposs></span> activities on this page <div id="subchapterprogress"></div>
  </div>
  
      

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>

<script>
	function mouseOverPrev() {
		document.getElementById("relations-prev").style.opacity=1;
	}

	function mouseOutPrev() {
		document.getElementById("relations-prev").style.opacity=0.4;
	}
	function mouseOverNext() {
		document.getElementById("relations-next").style.opacity=1;
	}

	function mouseOutNext() {
		document.getElementById("relations-next").style.opacity=0.4;
	}
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      
      <span id='numuserspan'></span><span class='loggedinuser'></span>
      
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020 - Based on How to Think Like a Computer Scientist.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> .
    </p>
  </div>
</footer>




<script> getSwitch(); </script>


  </body>
</html>