<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Objects of Vectors &#8212; How to Think Like a Computer Scientist - C++</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=DB047029" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/presenter_mode.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jquery-ui-1.10.3.custom.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/user-highlights.css" />
    <link rel="stylesheet" type="text/css" href="../_static/runestone-custom-sphinx-bootstrap.css?v=5.0.0" />
    <link rel="stylesheet" type="text/css" href="../_static/theme-overrides.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/jquery.highlight.js?v=F1C496C8"></script>
    <script src="../_static/sql-wasm.js?v=44FE0709"></script>
    <script src="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.js"></script>
    <script src="../_static/animationbase.js?v=A043C3A7"></script>
    <script src="../_static/pytutor-embed.bundle.js?v=268B5C04"></script>
    <script src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script src="../_static/webglinteractive.js?v=2B768384"></script>
    <script src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script src="../_static/Blob.js?v=AEC2447"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.bidi.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.fallbacks.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.messagestore.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.parser.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.language.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script src="../_static/runestone.js?v=5.0.0"></script>
    <script src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="../_static/jquery-fix.js"></script>
    <script src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script src="../_static/bootstrap-sphinx.js"></script>
    <script src="../_static/waypoints.min.js"></script>
    <script src="../_static/jquery.idle-timer.js"></script>
    <script src="../_static/processing-1.4.1.min.js"></script>
    <script src="../_static/jquery.hotkey.js"></script>
    <script src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <script src="../_static/presenter_mode.js?v=5.0.0"></script>
    <script src="../_static/theme.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = true;
    eBookConfig.host = 'http://127.0.0.1:8000' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/runestone';
    eBookConfig.course = 'thinkcpp';
    eBookConfig.basecourse = 'thinkcpp';
    eBookConfig.isLoggedIn = false;
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = '' ? '' : 'python'
  eBookConfig.runestone_version = '';
  eBookConfig.jobehost = '';
  eBookConfig.proxyuri_runs = '';
  eBookConfig.proxyuri_files = '';
  eBookConfig.enable_chatcodes = false ? false : false;


</script>


<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar" aria-label="navbar toggle" class="visuallyhidden">toggle navbar</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
          <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        
        <a class="navbar-brand" href="../index.html" aria-label="index-page">
          
          thinkcpp
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>


        <!-- social media dropdown -->
        
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-globe" style="opacity: 0.9"><span aria-label="Social" class="visuallyhidden">Social</span></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHNwYJKoZIhvcNAQcEoIIHKDCCByQCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYAcrkqh1hn3lYqIpfXxNqe1T82EhXzCJGy1yMAmklpyZshyMkfDGe1Bhx+iwyGeoYRTTyphFmP+9M3NyO0+Q5XdHxgZPx/zYjjBxlZHgEV6jhE8bN2fHkkPf0VHfz0a0QQylQOPlKiOTZV7B37Jpk6yM47oVZ1tG/KNm0NkfmB76DELMAkGBSsOAwIaBQAwgbQGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIi0GmFfOlcjuAgZBbYOo9UO+CpMQa+PYqwsUmUnJvXIImeMeNI3KVTUx5Cfk9gNMo3WzPeiB5IqZo9nRAQ0mf1qL2ecLeB5tidM+lgBUhOxfj3/FecpnVFa0263gp4g+PLw8jzhvVRdUon1K3SeO1Rzh23fIRKwnrD6btt73uwtj0sl3tGd8qz+6GIcwPDdRk9VcUffiBJT/ZagKgggOHMIIDgzCCAuygAwIBAgIBADANBgkqhkiG9w0BAQUFADCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wHhcNMDQwMjEzMTAxMzE1WhcNMzUwMjEzMTAxMzE1WjCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMFHTt38RMxLXJyO2SmS+Ndl72T7oKJ4u4uw+6awntALWh03PewmIJuzbALScsTS4sZoS1fKciBGoh11gIfHzylvkdNe/hJl66/RGqrj5rFb08sAABNTzDTiqqNpJeBsYs/c2aiGozptX2RlnBktH+SUNpAajW724Nv2Wvhif6sFAgMBAAGjge4wgeswHQYDVR0OBBYEFJaffLvGbxe9WT9S1wob7BDWZJRrMIG7BgNVHSMEgbMwgbCAFJaffLvGbxe9WT9S1wob7BDWZJRroYGUpIGRMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbYIBADAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4GBAIFfOlaagFrl71+jq6OKidbWFSE+Q4FqROvdgIONth+8kSK//Y/4ihuE4Ymvzn5ceE3S/iBSQQMjyvb+s2TWbQYDwcp129OPIbD9epdr4tJOUNiSojw7BHwYRiPh58S1xGlFgHFXwrEBb3dgNbMUa+u4qectsMAXpVHnD9wIyfmHMYIBmjCCAZYCAQEwgZQwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tAgEAMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xMzExMDMxMzQxMzFaMCMGCSqGSIb3DQEJBDEWBBRDJF8w+zsMr7FSk+pwinB5f5D4rzANBgkqhkiG9w0BAQEFAASBgHw1LMHpkpaqHIvDGdFE0eG+2mZlmMnUeDCBhQlbc7QMzFQYKTV94NfaebBO4PmNdADe1rq4WidSRZZbE7CzkX9IGENYnBTWY0hb2l0lGdGrJdGeWyV3ekg9WVaFMMumrekds96h3Cx7dGz2kWDzIai2iEXE/qoE+xpkyXAYZNV3-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li><!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span aria-label="Search" class="visuallyhidden">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <!-- user account dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-user" style="opacity:0.9;"><span aria-label="User" class="visuallyhidden">User</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><span class='loggedinuser'></span></li>
            <li class="divider"></li>
            <li><a href='/runestone/assignments/chooseAssignment.html'>Assignments</a></li>
            <li><a href='/runestone/assignments/practice'>Practice</a></li>
            <li class="divider"></li>
            
            <li><a href='/runestone/default/courses'>Change Course</a></li>
			      <li class="divider"></li>
            <li id="ip_dropdown_link"><a href='/runestone/admin/index'>Instructor's Page</a></li>
            
            <li><a href='/runestone/dashboard/studentreport'>Progress Page</a></li>
            <li class="divider"></li>
            
            <li><a href="/runestone/default/user/profile" id="profilelink">Edit Profile</a></li>
            <li><a href="/runestone/default/user/change_password" id="passwordlink">Change Password</a></li>
            <li><a href="/runestone/default/user/register" id="registerlink">Register</a></li>
            
            <li class='loginout'><a href='#'>Login</a></li> <!-- correct link populated by addNavbarLoginLink() -->
			<!-- dark mode toggle -->
             <li><label class="theme-switch" for="checkbox">
					  <input type="checkbox" id="checkbox" onchange="switchTheme()" />
							<div class="slider round"></div>
					</label>Dark Mode</li>
			 </ul>
        </li>
        <!-- end user account dropdown -->
        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:ACFactory.toggleScratchActivecode()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span aria-label="Scratch Activecode" class="visuallyhidden">Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"><span aria-label="Help" class="visuallyhidden">Help</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='http://runestoneinteractive.org/pages/faq.html'>FAQ</a></li>
            <li><a href='https://runestone.academy/runestone/static/instructorguide/index.html'>Instructors Guide</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=thinkcpp&page=Chapter13'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>
      
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

      </div> <!-- navbar -->







    </div> <!-- container -->
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">
  
  <div class="section" id="objects-of-vectors">
<h1>Objects of Vectors<a class="headerlink" href="#objects-of-vectors" title="Permalink to this headline">¶</a></h1>
<div class="section" id="enumerated-types">
<h2>Enumerated types<a class="headerlink" href="#enumerated-types" title="Permalink to this headline">¶</a></h2>
<p>In the previous chapter I talked about mappings between real-world
values like rank and suit, and internal representations like integers
and strings. Although we created a mapping between ranks and integers,
and between suits and integers, I pointed out that the mapping itself
does not appear as part of the program.</p>
<p>Actually, C++ provides a feature called and <strong>enumerated type</strong> that
makes it possible to (1) include a mapping as part of the program, and
(2) define the set of values that make up the mapping. For example, here
is the definition of the enumerated types <code class="docutils literal notranslate"><span class="pre">Suit</span></code> and <code class="docutils literal notranslate"><span class="pre">Rank</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="n">Suit</span> <span class="p">{</span> <span class="n">CLUBS</span><span class="p">,</span> <span class="n">DIAMONDS</span><span class="p">,</span> <span class="n">HEARTS</span><span class="p">,</span> <span class="n">SPADES</span> <span class="p">};</span>

<span class="n">enum</span> <span class="n">Rank</span> <span class="p">{</span> <span class="n">ACE</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">TWO</span><span class="p">,</span> <span class="n">THREE</span><span class="p">,</span> <span class="n">FOUR</span><span class="p">,</span> <span class="n">FIVE</span><span class="p">,</span> <span class="n">SIX</span><span class="p">,</span> <span class="n">SEVEN</span><span class="p">,</span> <span class="n">EIGHT</span><span class="p">,</span> <span class="n">NINE</span><span class="p">,</span>
<span class="n">TEN</span><span class="p">,</span> <span class="n">JACK</span><span class="p">,</span> <span class="n">QUEEN</span><span class="p">,</span> <span class="n">KING</span> <span class="p">};</span>
</pre></div>
</div>
<p>By default, the first value in the enumerated type maps to 0, the second
to 1, and so on. Within the <code class="docutils literal notranslate"><span class="pre">Suit</span></code> type, the value <code class="docutils literal notranslate"><span class="pre">CLUBS</span></code> is
represented by the integer 0, <code class="docutils literal notranslate"><span class="pre">DIAMONDS</span></code> is represented by 1, etc.</p>
<p>The definition of <code class="docutils literal notranslate"><span class="pre">Rank</span></code> overrides the default mapping and specifies
that <code class="docutils literal notranslate"><span class="pre">ACE</span></code> should be represented by the integer 1. The other values
follow in the usual way.</p>
<p>Once we have defined these types, we can use them anywhere. For example,
the instance variables <code class="docutils literal notranslate"><span class="pre">rank</span></code> and <code class="docutils literal notranslate"><span class="pre">suit</span></code> are can be declared with
type <code class="docutils literal notranslate"><span class="pre">Rank</span></code> and <code class="docutils literal notranslate"><span class="pre">Suit</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">Card</span>
<span class="p">{</span>
  <span class="n">Rank</span> <span class="n">rank</span><span class="p">;</span>
  <span class="n">Suit</span> <span class="n">suit</span><span class="p">;</span>

  <span class="n">Card</span> <span class="p">(</span><span class="n">Suit</span> <span class="n">s</span><span class="p">,</span> <span class="n">Rank</span> <span class="n">r</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>That the types of the parameters for the constructor have changed, too.
Now, to create a card, we can use the values from the enumerated type as
arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Card</span> <span class="n">card</span> <span class="p">(</span><span class="n">DIAMONDS</span><span class="p">,</span> <span class="n">JACK</span><span class="p">);</span>
</pre></div>
</div>
<p>By convention, the values in enumerated types have names with all
capital letters. This code is much clearer than the alternative using
integers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Card</span> <span class="n">card</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">);</span>
</pre></div>
</div>
<p>Because we know that the values in the enumerated types are represented
as integers, we can use them as indices for a vector. Therefore the old
<code class="docutils literal notranslate"><span class="pre">print</span></code> function will work without modification. We have to make some
changes in <code class="docutils literal notranslate"><span class="pre">buildDeck</span></code>, though:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="n">Suit</span> <span class="n">suit</span> <span class="o">=</span> <span class="n">CLUBS</span><span class="p">;</span> <span class="n">suit</span> <span class="o">&lt;=</span> <span class="n">SPADES</span><span class="p">;</span> <span class="n">suit</span> <span class="o">=</span> <span class="n">Suit</span><span class="p">(</span><span class="n">suit</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">Rank</span> <span class="n">rank</span> <span class="o">=</span> <span class="n">ACE</span><span class="p">;</span> <span class="n">rank</span> <span class="o">&lt;=</span> <span class="n">KING</span><span class="p">;</span> <span class="n">rank</span> <span class="o">=</span> <span class="n">Rank</span><span class="p">(</span><span class="n">rank</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">deck</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">suit</span> <span class="o">=</span> <span class="n">suit</span><span class="p">;</span>
    <span class="n">deck</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">rank</span> <span class="o">=</span> <span class="n">rank</span><span class="p">;</span>
    <span class="n">index</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In some ways, using enumerated types makes this code more readable, but
there is one complication. Strictly speaking, we are not allowed to do
arithmetic with enumerated types, so <code class="docutils literal notranslate"><span class="pre">suit++</span></code> is not legal. On the
other hand, in the expression <code class="docutils literal notranslate"><span class="pre">suit+1</span></code>, C++ automatically converts the
enumerated type to integer. Then we can take the result and typecast it
back to the enumerated type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">suit</span> <span class="o">=</span> <span class="n">Suit</span><span class="p">(</span><span class="n">suit</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
<span class="n">rank</span> <span class="o">=</span> <span class="n">Rank</span><span class="p">(</span><span class="n">rank</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<p>Actually, there is a better way to do this—we can define the <code class="docutils literal notranslate"><span class="pre">++</span></code>
operator for enumerated types—but that is beyond the scope of this book.</p>
</div>
<div class="section" id="switch-statement">
<h2><code class="docutils literal notranslate"><span class="pre">switch</span></code> statement<a class="headerlink" href="#switch-statement" title="Permalink to this headline">¶</a></h2>
<p>It’s hard to mention enumerated types without mentioning <code class="docutils literal notranslate"><span class="pre">switch</span></code>
statements, because they often go hand in hand. A <code class="docutils literal notranslate"><span class="pre">switch</span></code> statement
is an alternative to a chained conditional that is syntactically
prettier and often more efficient. It looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">switch</span> <span class="p">(</span><span class="n">symbol</span><span class="p">)</span> <span class="p">{</span>
<span class="n">case</span> <span class="s1">&#39;+&#39;</span><span class="p">:</span>
  <span class="n">perform_addition</span> <span class="p">();</span>
  <span class="k">break</span><span class="p">;</span>
<span class="n">case</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
  <span class="n">perform_multiplication</span> <span class="p">();</span>
  <span class="k">break</span><span class="p">;</span>
<span class="n">default</span><span class="p">:</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;I only know how to perform addition and multiplication&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This <code class="docutils literal notranslate"><span class="pre">switch</span></code> statement is equivalent to the following chained
conditional:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">symbol</span> <span class="o">==</span> <span class="s1">&#39;+&#39;</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">perform_addition</span> <span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">symbol</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">perform_multiplication</span> <span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;I only know how to perform addition and multiplication&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">break</span></code> statements are necessary in each branch in a <code class="docutils literal notranslate"><span class="pre">switch</span></code>
statement because otherwise the flow of execution “falls through” to the
next case. Without the <code class="docutils literal notranslate"><span class="pre">break</span></code> statements, the symbol <code class="docutils literal notranslate"><span class="pre">+</span></code> would make
the program perform addition, and then perform multiplication, and then
print the error message. Occasionally this feature is useful, but most
of the time it is a source of errors when people forget the <code class="docutils literal notranslate"><span class="pre">break</span></code>
statements.</p>
<p><code class="docutils literal notranslate"><span class="pre">switch</span></code> statements work with integers, characters, and enumerated
types. For example, to convert a <code class="docutils literal notranslate"><span class="pre">Suit</span></code> to the corresponding string,
we could use something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">switch</span> <span class="p">(</span><span class="n">suit</span><span class="p">)</span> <span class="p">{</span>
<span class="n">case</span> <span class="n">CLUBS</span><span class="p">:</span>     <span class="k">return</span> <span class="s2">&quot;Clubs&quot;</span><span class="p">;</span>
<span class="n">case</span> <span class="n">DIAMONDS</span><span class="p">:</span>  <span class="k">return</span> <span class="s2">&quot;Diamonds&quot;</span><span class="p">;</span>
<span class="n">case</span> <span class="n">HEARTS</span><span class="p">:</span>    <span class="k">return</span> <span class="s2">&quot;Hearts&quot;</span><span class="p">;</span>
<span class="n">case</span> <span class="n">SPADES</span><span class="p">:</span>    <span class="k">return</span> <span class="s2">&quot;Spades&quot;</span><span class="p">;</span>
<span class="n">default</span><span class="p">:</span>        <span class="k">return</span> <span class="s2">&quot;Not a valid suit&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this case we don’t need <code class="docutils literal notranslate"><span class="pre">break</span></code> statements because the <code class="docutils literal notranslate"><span class="pre">return</span></code>
statements cause the flow of execution to return to the caller instead
of falling through to the next case.</p>
<p>In general it is good style to include a <code class="docutils literal notranslate"><span class="pre">default</span></code> case in every
<code class="docutils literal notranslate"><span class="pre">switch</span></code> statement, to handle errors or unexpected values.</p>
</div>
<div class="section" id="decks">
<span id="deck"></span><h2>Decks<a class="headerlink" href="#decks" title="Permalink to this headline">¶</a></h2>
<p>In the previous chapter, we worked with a vector of objects, but I also
mentioned that it is possible to have an object that contains a vector
as an instance variable. In this chapter I am going to create a new
object, called a <code class="docutils literal notranslate"><span class="pre">Deck</span></code>, that contains a vector of <code class="docutils literal notranslate"><span class="pre">Card</span></code>s.</p>
<p>The structure definition looks like this</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">Deck</span> <span class="p">{</span>
  <span class="n">apvector</span><span class="o">&lt;</span><span class="n">Card</span><span class="o">&gt;</span> <span class="n">cards</span><span class="p">;</span>

  <span class="n">Deck</span> <span class="p">(</span><span class="nb">int</span> <span class="n">n</span><span class="p">);</span>
<span class="p">};</span>

<span class="n">Deck</span><span class="p">::</span><span class="n">Deck</span> <span class="p">(</span><span class="nb">int</span> <span class="n">size</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">apvector</span><span class="o">&lt;</span><span class="n">Card</span><span class="o">&gt;</span> <span class="n">temp</span> <span class="p">(</span><span class="n">size</span><span class="p">);</span>
  <span class="n">cards</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The name of the instance variable is <code class="docutils literal notranslate"><span class="pre">cards</span></code> to help distinguish the
<code class="docutils literal notranslate"><span class="pre">Deck</span></code> object from the vector of <code class="docutils literal notranslate"><span class="pre">Card</span></code>s that it contains.</p>
<p>For now there is only one constructor. It creates a local variable named
<code class="docutils literal notranslate"><span class="pre">temp</span></code>, which it initializes by invoking the constructor for the
<code class="docutils literal notranslate"><span class="pre">apvector</span></code> class, passing the size as a parameter. Then it copies the
vector from <code class="docutils literal notranslate"><span class="pre">temp</span></code> into the instance variable <code class="docutils literal notranslate"><span class="pre">cards</span></code>.</p>
<p>Now we can create a deck of cards like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Deck</span> <span class="n">deck</span> <span class="p">(</span><span class="mi">52</span><span class="p">);</span>
</pre></div>
</div>
<p>Here is a state diagram showing what a <code class="docutils literal notranslate"><span class="pre">Deck</span></code> object looks like:</p>
<p>The object named <code class="docutils literal notranslate"><span class="pre">deck</span></code> has a single instance variable named
<code class="docutils literal notranslate"><span class="pre">cards</span></code>, which is a vector of <code class="docutils literal notranslate"><span class="pre">Card</span></code> objects. To access the cards in
a deck we have to compose the syntax for accessing an instance variable
and the syntax for selecting an element from an array. For example, the
expression <code class="docutils literal notranslate"><span class="pre">deck.cards[i]</span></code> is the ith card in the deck, and
<code class="docutils literal notranslate"><span class="pre">deck.cards[i].suit</span></code> is its suit. The following loop</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">52</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">deck</span><span class="o">.</span><span class="n">cards</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">print</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>demonstrates how to traverse the deck and output each card.</p>
</div>
<div class="section" id="another-constructor">
<h2>Another constructor<a class="headerlink" href="#another-constructor" title="Permalink to this headline">¶</a></h2>
<p>Now that we have a <code class="docutils literal notranslate"><span class="pre">Deck</span></code> object, it would be useful to initialize the
cards in it. From the previous chapter we have a function called
<code class="docutils literal notranslate"><span class="pre">buildDeck</span></code> that we could use (with a few adaptations), but it might
be more natural to write a second <code class="docutils literal notranslate"><span class="pre">Deck</span></code> constructor.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Deck</span><span class="p">::</span><span class="n">Deck</span> <span class="p">()</span>
<span class="p">{</span>
  <span class="n">apvector</span><span class="o">&lt;</span><span class="n">Card</span><span class="o">&gt;</span> <span class="n">temp</span> <span class="p">(</span><span class="mi">52</span><span class="p">);</span>
  <span class="n">cards</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>

  <span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">Suit</span> <span class="n">suit</span> <span class="o">=</span> <span class="n">CLUBS</span><span class="p">;</span> <span class="n">suit</span> <span class="o">&lt;=</span> <span class="n">SPADES</span><span class="p">;</span> <span class="n">suit</span> <span class="o">=</span> <span class="n">Suit</span><span class="p">(</span><span class="n">suit</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">Rank</span> <span class="n">rank</span> <span class="o">=</span> <span class="n">ACE</span><span class="p">;</span> <span class="n">rank</span> <span class="o">&lt;=</span> <span class="n">KING</span><span class="p">;</span> <span class="n">rank</span> <span class="o">=</span> <span class="n">Rank</span><span class="p">(</span><span class="n">rank</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
      <span class="n">cards</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">suit</span> <span class="o">=</span> <span class="n">suit</span><span class="p">;</span>
      <span class="n">cards</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">rank</span> <span class="o">=</span> <span class="n">rank</span><span class="p">;</span>
      <span class="n">i</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Notice how similar this function is to <code class="docutils literal notranslate"><span class="pre">buildDeck</span></code>, except that we had
to change the syntax to make it a constructor. Now we can create a
standard 52-card deck with the simple declaration <code class="docutils literal notranslate"><span class="pre">Deck</span> <span class="pre">deck;</span></code></p>
</div>
<div class="section" id="deck-member-functions">
<h2><code class="docutils literal notranslate"><span class="pre">Deck</span></code> member functions<a class="headerlink" href="#deck-member-functions" title="Permalink to this headline">¶</a></h2>
<p>Now that we have a <code class="docutils literal notranslate"><span class="pre">Deck</span></code> object, it makes sense to put all the
functions that pertain to <code class="docutils literal notranslate"><span class="pre">Deck</span></code>s in the <code class="docutils literal notranslate"><span class="pre">Deck</span></code> structure
definition. Looking at the functions we have written so far, one obvious
candidate is <code class="docutils literal notranslate"><span class="pre">printDeck</span></code> (Section <a class="reference external" href="#printdeck">[printdeck]</a>).
Here’s how it looks, rewritten as a <code class="docutils literal notranslate"><span class="pre">Deck</span></code> member function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Deck</span><span class="p">::</span><span class="nb">print</span> <span class="p">()</span> <span class="n">const</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cards</span><span class="o">.</span><span class="n">length</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cards</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">print</span> <span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As usual, we can refer to the instance variables of the current object
without using dot notation.</p>
<p>For some of the other functions, it is not obvious whether they should
be member functions of <code class="docutils literal notranslate"><span class="pre">Card</span></code>, member functions of <code class="docutils literal notranslate"><span class="pre">Deck</span></code>, or
nonmember functions that take <code class="docutils literal notranslate"><span class="pre">Card</span></code>s and <code class="docutils literal notranslate"><span class="pre">Deck</span></code>s as parameters.
For example, the version of <code class="docutils literal notranslate"><span class="pre">find</span></code> in the previous chapter takes a
<code class="docutils literal notranslate"><span class="pre">Card</span></code> and a <code class="docutils literal notranslate"><span class="pre">Deck</span></code> as arguments, but you could reasonably make it a
member function of either type. As an exercise, rewrite <code class="docutils literal notranslate"><span class="pre">find</span></code> as a
<code class="docutils literal notranslate"><span class="pre">Deck</span></code> member function that takes a <code class="docutils literal notranslate"><span class="pre">Card</span></code> as a parameter.</p>
<p>Writing <code class="docutils literal notranslate"><span class="pre">find</span></code> as a <code class="docutils literal notranslate"><span class="pre">Card</span></code> member function is a little tricky.
Here’s my version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">Card</span><span class="p">::</span><span class="n">find</span> <span class="p">(</span><span class="n">const</span> <span class="n">Deck</span><span class="o">&amp;</span> <span class="n">deck</span><span class="p">)</span> <span class="n">const</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">deck</span><span class="o">.</span><span class="n">cards</span><span class="o">.</span><span class="n">length</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">equals</span> <span class="p">(</span><span class="n">deck</span><span class="o">.</span><span class="n">cards</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="o">*</span><span class="n">this</span><span class="p">))</span> <span class="k">return</span> <span class="n">i</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The first trick is that we have to use the keyword <code class="docutils literal notranslate"><span class="pre">this</span></code> to refer to
the <code class="docutils literal notranslate"><span class="pre">Card</span></code> the function is invoked on.</p>
<p>The second trick is that C++ does not make it easy to write structure
definitions that refer to each other. The problem is that when the
compiler is reading the first structure definition, it doesn’t know
about the second one yet.</p>
<p>One solution is to declare <code class="docutils literal notranslate"><span class="pre">Deck</span></code> before <code class="docutils literal notranslate"><span class="pre">Card</span></code> and then define
<code class="docutils literal notranslate"><span class="pre">Deck</span></code> afterwards:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">declare</span> <span class="n">that</span> <span class="n">Deck</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">structure</span><span class="p">,</span> <span class="n">without</span> <span class="n">defining</span> <span class="n">it</span>
<span class="n">struct</span> <span class="n">Deck</span><span class="p">;</span>

<span class="o">//</span> <span class="n">that</span> <span class="n">way</span> <span class="n">we</span> <span class="n">can</span> <span class="n">refer</span> <span class="n">to</span> <span class="n">it</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">definition</span> <span class="n">of</span> <span class="n">Card</span>
<span class="n">struct</span> <span class="n">Card</span>
<span class="p">{</span>
  <span class="nb">int</span> <span class="n">suit</span><span class="p">,</span> <span class="n">rank</span><span class="p">;</span>

  <span class="n">Card</span> <span class="p">();</span>
  <span class="n">Card</span> <span class="p">(</span><span class="nb">int</span> <span class="n">s</span><span class="p">,</span> <span class="nb">int</span> <span class="n">r</span><span class="p">);</span>

  <span class="n">void</span> <span class="nb">print</span> <span class="p">()</span> <span class="n">const</span><span class="p">;</span>
  <span class="nb">bool</span> <span class="n">isGreater</span> <span class="p">(</span><span class="n">const</span> <span class="n">Card</span><span class="o">&amp;</span> <span class="n">c2</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
  <span class="nb">int</span> <span class="n">find</span> <span class="p">(</span><span class="n">const</span> <span class="n">Deck</span><span class="o">&amp;</span> <span class="n">deck</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="p">};</span>

<span class="o">//</span> <span class="ow">and</span> <span class="n">then</span> <span class="n">later</span> <span class="n">we</span> <span class="n">provide</span> <span class="n">the</span> <span class="n">definition</span> <span class="n">of</span> <span class="n">Deck</span>
<span class="n">struct</span> <span class="n">Deck</span> <span class="p">{</span>
  <span class="n">apvector</span><span class="o">&lt;</span><span class="n">Card</span><span class="o">&gt;</span> <span class="n">cards</span><span class="p">;</span>

  <span class="n">Deck</span> <span class="p">();</span>
  <span class="n">Deck</span> <span class="p">(</span><span class="nb">int</span> <span class="n">n</span><span class="p">);</span>
  <span class="n">void</span> <span class="nb">print</span> <span class="p">()</span> <span class="n">const</span><span class="p">;</span>
  <span class="nb">int</span> <span class="n">find</span> <span class="p">(</span><span class="n">const</span> <span class="n">Card</span><span class="o">&amp;</span> <span class="n">card</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="shuffling">
<span id="shuffle"></span><h2>Shuffling<a class="headerlink" href="#shuffling" title="Permalink to this headline">¶</a></h2>
<p>For most card games you need to be able to shuffle the deck; that is,
put the cards in a random order. In Section <a class="reference external" href="#random">[random]</a> we
saw how to generate random numbers, but it is not obvious how to use
them to shuffle a deck.</p>
<p>One possibility is to model the way humans shuffle, which is usually by
dividing the deck in two and then reassembling the deck by choosing
alternately from each deck. Since humans usually don’t shuffle
perfectly, after about 7 iterations the order of the deck is pretty well
randomized. But a computer program would have the annoying property of
doing a perfect shuffle every time, which is not really very random. In
fact, after 8 perfect shuffles, you would find the deck back in the same
order you started in. For a discussion of that claim, see
<code class="docutils literal notranslate"><span class="pre">http://www.wiskit.com/marilyn/craig.html</span></code> or do a web search with the
keywords “perfect shuffle.”</p>
<p>A better shuffling algorithm is to traverse the deck one card at a time,
and at each iteration choose two cards and swap them.</p>
<p>Here is an outline of how this algorithm works. To sketch the program, I
am using a combination of C++ statements and English words that is
sometimes called <strong>pseudocode</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">cards</span><span class="o">.</span><span class="n">length</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">choose</span> <span class="n">a</span> <span class="n">random</span> <span class="n">number</span> <span class="n">between</span> <span class="n">i</span> <span class="ow">and</span> <span class="n">cards</span><span class="o">.</span><span class="n">length</span><span class="p">()</span>
  <span class="o">//</span> <span class="n">swap</span> <span class="n">the</span> <span class="n">ith</span> <span class="n">card</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">randomly</span><span class="o">-</span><span class="n">chosen</span> <span class="n">card</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The nice thing about using pseudocode is that it often makes it clear
what functions you are going to need. In this case, we need something
like <code class="docutils literal notranslate"><span class="pre">randomInt</span></code>, which chooses a random integer between the
parameters <code class="docutils literal notranslate"><span class="pre">low</span></code> and <code class="docutils literal notranslate"><span class="pre">high</span></code>, and <code class="docutils literal notranslate"><span class="pre">swapCards</span></code> which takes two
indices and switches the cards at the indicated positions.</p>
<p>You can probably figure out how to write <code class="docutils literal notranslate"><span class="pre">randomInt</span></code> by looking at
Section <a class="reference external" href="#random">[random]</a>, although you will have to be careful
about possibly generating indices that are out of range.</p>
<p>You can also figure out <code class="docutils literal notranslate"><span class="pre">swapCards</span></code> yourself. I will leave the
remaining implementation of these functions as an exercise to the
reader.</p>
</div>
<div class="section" id="sorting">
<h2>Sorting<a class="headerlink" href="#sorting" title="Permalink to this headline">¶</a></h2>
<p>Now that we have messed up the deck, we need a way to put it back in
order. Ironically, there is an algorithm for sorting that is very
similar to the algorithm for shuffling.</p>
<p>Again, we are going to traverse the deck and at each location choose
another card and swap. The only difference is that this time instead of
choosing the other card at random, we are going to find the lowest card
remaining in the deck.</p>
<p>By “remaining in the deck,” I mean cards that are at or to the right of
the index <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">cards</span><span class="o">.</span><span class="n">length</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">find</span> <span class="n">the</span> <span class="n">lowest</span> <span class="n">card</span> <span class="n">at</span> <span class="ow">or</span> <span class="n">to</span> <span class="n">the</span> <span class="n">right</span> <span class="n">of</span> <span class="n">i</span>
  <span class="o">//</span> <span class="n">swap</span> <span class="n">the</span> <span class="n">ith</span> <span class="n">card</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">lowest</span> <span class="n">card</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Again, the pseudocode helps with the design of the <strong>helper functions</strong>.
In this case we can use <code class="docutils literal notranslate"><span class="pre">swapCards</span></code> again, so we only need one new
one, called <code class="docutils literal notranslate"><span class="pre">findLowestCard</span></code>, that takes a vector of cards and an
index where it should start looking.</p>
<p>This process, using pseudocode to figure out what helper functions are
needed, is sometimes called <strong>top-down design</strong>, in contrast to the
bottom-up design I discussed in Section <a class="reference external" href="#counting">[counting]</a>.</p>
<p>Once again, I am going to leave the implementation up to the reader.</p>
</div>
<div class="section" id="subdecks">
<h2>Subdecks<a class="headerlink" href="#subdecks" title="Permalink to this headline">¶</a></h2>
<p>How should we represent a hand or some other subset of a full deck? One
easy choice is to make a <code class="docutils literal notranslate"><span class="pre">Deck</span></code> object that has fewer than 52 cards.</p>
<p>We might want a function, <code class="docutils literal notranslate"><span class="pre">subdeck</span></code>, that takes a vector of cards and
a range of indices, and that returns a new vector of cards that contains
the specified subset of the deck:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Deck</span> <span class="n">Deck</span><span class="p">::</span><span class="n">subdeck</span> <span class="p">(</span><span class="nb">int</span> <span class="n">low</span><span class="p">,</span> <span class="nb">int</span> <span class="n">high</span><span class="p">)</span> <span class="n">const</span> <span class="p">{</span>
  <span class="n">Deck</span> <span class="n">sub</span> <span class="p">(</span><span class="n">high</span><span class="o">-</span><span class="n">low</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>

  <span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">sub</span><span class="o">.</span><span class="n">cards</span><span class="o">.</span><span class="n">length</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">sub</span><span class="o">.</span><span class="n">cards</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">cards</span><span class="p">[</span><span class="n">low</span><span class="o">+</span><span class="n">i</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">sub</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To create the local variable named <code class="docutils literal notranslate"><span class="pre">subdeck</span></code> we are using the <code class="docutils literal notranslate"><span class="pre">Deck</span></code>
constructor that takes the size of the deck as an argument and that does
not initialize the cards. The cards get initialized when they are copied
from the original deck.</p>
<p>The length of the subdeck is <code class="docutils literal notranslate"><span class="pre">high-low+1</span></code> because both the low card
and high card are included. This sort of computation can be confusing,
and lead to “off-by-one” errors. Drawing a picture is usually the best
way to avoid them.</p>
<p>As an exercise, write a version of <code class="docutils literal notranslate"><span class="pre">findBisect</span></code> that takes a subdeck
as an argument, rather than a deck and an index range. Which version is
more error-prone? Which version do you think is more efficient?</p>
</div>
<div class="section" id="shuffling-and-dealing">
<h2>Shuffling and dealing<a class="headerlink" href="#shuffling-and-dealing" title="Permalink to this headline">¶</a></h2>
<p>In Section <a class="reference external" href="#shuffle">1.6</a> I wrote pseudocode for a shuffling
algorithm. Assuming that we have a function called <code class="docutils literal notranslate"><span class="pre">shuffleDeck</span></code> that
takes a deck as an argument and shuffles it, we can create and shuffle a
deck:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Deck</span> <span class="n">deck</span><span class="p">;</span>               <span class="o">//</span> <span class="n">create</span> <span class="n">a</span> <span class="n">standard</span> <span class="mi">52</span><span class="o">-</span><span class="n">card</span> <span class="n">deck</span>
<span class="n">deck</span><span class="o">.</span><span class="n">shuffle</span> <span class="p">();</span>         <span class="o">//</span> <span class="n">shuffle</span> <span class="n">it</span>
</pre></div>
</div>
<p>Then, to deal out several hands, we can use <code class="docutils literal notranslate"><span class="pre">subdeck</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Deck</span> <span class="n">hand1</span> <span class="o">=</span> <span class="n">deck</span><span class="o">.</span><span class="n">subdeck</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
<span class="n">Deck</span> <span class="n">hand2</span> <span class="o">=</span> <span class="n">deck</span><span class="o">.</span><span class="n">subdeck</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">);</span>
<span class="n">Deck</span> <span class="n">pack</span> <span class="o">=</span> <span class="n">deck</span><span class="o">.</span><span class="n">subdeck</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">51</span><span class="p">);</span>
</pre></div>
</div>
<p>This code puts the first 5 cards in one hand, the next 5 cards in the
other, and the rest into the pack.</p>
<p>When you thought about dealing, did you think we should give out one
card at a time to each player in the round-robin style that is common in
real card games? I thought about it, but then realized that it is
unnecessary for a computer program. The round-robin convention is
intended to mitigate imperfect shuffling and make it more difficult for
the dealer to cheat. Neither of these is an issue for a computer.</p>
<p>This example is a useful reminder of one of the dangers of engineering
metaphors: sometimes we impose restrictions on computers that are
unnecessary, or expect capabilities that are lacking, because we
unthinkingly extend a metaphor past its breaking point. Beware of
misleading analogies.</p>
</div>
<div class="section" id="mergesort">
<h2>Mergesort<a class="headerlink" href="#mergesort" title="Permalink to this headline">¶</a></h2>
<p>In Section <a class="reference external" href="#sorting">1.7</a>, we saw a simple sorting algorithm that
turns out not to be very efficient. In order to sort <span class="math notranslate nohighlight">\(n\)</span> items, it
has to traverse the vector <span class="math notranslate nohighlight">\(n\)</span> times, and each traversal takes an
amount of time that is proportional to <span class="math notranslate nohighlight">\(n\)</span>. The total time,
therefore, is proportional to <span class="math notranslate nohighlight">\(n^2\)</span>.</p>
<p>In this section I will sketch a more efficient algorithm called
<strong>mergesort</strong>. To sort <span class="math notranslate nohighlight">\(n\)</span> items, mergesort takes time
proportional to <span class="math notranslate nohighlight">\(n \log n\)</span>. That may not seem impressive, but as
<span class="math notranslate nohighlight">\(n\)</span> gets big, the difference between <span class="math notranslate nohighlight">\(n^2\)</span> and
<span class="math notranslate nohighlight">\(n \log n\)</span> can be enormous. Try out a few values of <span class="math notranslate nohighlight">\(n\)</span> and
see.</p>
<p>The basic idea behind mergesort is this: if you have two subdecks, each
of which has been sorted, it is easy (and fast) to merge them into a
single, sorted deck. Try this out with a deck of cards:</p>
<ol class="arabic simple">
<li><p>Form two subdecks with about 10 cards each and sort them so that when
they are face up the lowest cards are on top. Place both decks face
up in front of you.</p></li>
<li><p>Compare the top card from each deck and choose the lower one. Flip it
over and add it to the merged deck.</p></li>
<li><p>Repeat step two until one of the decks is empty. Then take the
remaining cards and add them to the merged deck.</p></li>
</ol>
<p>The result should be a single sorted deck. Here’s what this looks like
in pseudocode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Deck</span> <span class="n">merge</span> <span class="p">(</span><span class="n">const</span> <span class="n">Deck</span><span class="o">&amp;</span> <span class="n">d1</span><span class="p">,</span> <span class="n">const</span> <span class="n">Deck</span><span class="o">&amp;</span> <span class="n">d2</span><span class="p">)</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">create</span> <span class="n">a</span> <span class="n">new</span> <span class="n">deck</span> <span class="n">big</span> <span class="n">enough</span> <span class="k">for</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">cards</span>
  <span class="n">Deck</span> <span class="n">result</span> <span class="p">(</span><span class="n">d1</span><span class="o">.</span><span class="n">cards</span><span class="o">.</span><span class="n">length</span><span class="p">()</span> <span class="o">+</span> <span class="n">d2</span><span class="o">.</span><span class="n">cards</span><span class="o">.</span><span class="n">length</span><span class="p">());</span>

  <span class="o">//</span> <span class="n">use</span> <span class="n">the</span> <span class="n">index</span> <span class="n">i</span> <span class="n">to</span> <span class="n">keep</span> <span class="n">track</span> <span class="n">of</span> <span class="n">where</span> <span class="n">we</span> <span class="n">are</span> <span class="ow">in</span>
  <span class="o">//</span> <span class="n">the</span> <span class="n">first</span> <span class="n">deck</span><span class="p">,</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">index</span> <span class="n">j</span> <span class="k">for</span> <span class="n">the</span> <span class="n">second</span> <span class="n">deck</span>
  <span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="nb">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="o">//</span> <span class="n">the</span> <span class="n">index</span> <span class="n">k</span> <span class="n">traverses</span> <span class="n">the</span> <span class="n">result</span> <span class="n">deck</span>
  <span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span><span class="o">&lt;</span><span class="n">result</span><span class="o">.</span><span class="n">cards</span><span class="o">.</span><span class="n">length</span><span class="p">();</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

    <span class="o">//</span> <span class="k">if</span> <span class="n">d1</span> <span class="ow">is</span> <span class="n">empty</span><span class="p">,</span> <span class="n">d2</span> <span class="n">wins</span><span class="p">;</span> <span class="k">if</span> <span class="n">d2</span> <span class="ow">is</span> <span class="n">empty</span><span class="p">,</span> <span class="n">d1</span> <span class="n">wins</span><span class="p">;</span>
    <span class="o">//</span> <span class="n">otherwise</span><span class="p">,</span> <span class="n">compare</span> <span class="n">the</span> <span class="n">two</span> <span class="n">cards</span>

    <span class="o">//</span> <span class="n">add</span> <span class="n">the</span> <span class="n">winner</span> <span class="n">to</span> <span class="n">the</span> <span class="n">new</span> <span class="n">deck</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>I chose to make <code class="docutils literal notranslate"><span class="pre">merge</span></code> a nonmember function because the two arguments
are symmetric.</p>
<p>The best way to test <code class="docutils literal notranslate"><span class="pre">merge</span></code> is to build and shuffle a deck, use
subdeck to form two (small) hands, and then use the sort routine from
the previous chapter to sort the two halves. Then you can pass the two
halves to <code class="docutils literal notranslate"><span class="pre">merge</span></code> to see if it works.</p>
<p>If you can get that working, try a simple implementation of
<code class="docutils literal notranslate"><span class="pre">mergeSort</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Deck</span> <span class="n">Deck</span><span class="p">::</span><span class="n">mergeSort</span> <span class="p">()</span> <span class="n">const</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">find</span> <span class="n">the</span> <span class="n">midpoint</span> <span class="n">of</span> <span class="n">the</span> <span class="n">deck</span>
  <span class="o">//</span> <span class="n">divide</span> <span class="n">the</span> <span class="n">deck</span> <span class="n">into</span> <span class="n">two</span> <span class="n">subdecks</span>
  <span class="o">//</span> <span class="n">sort</span> <span class="n">the</span> <span class="n">subdecks</span> <span class="n">using</span> <span class="n">sort</span>
  <span class="o">//</span> <span class="n">merge</span> <span class="n">the</span> <span class="n">two</span> <span class="n">halves</span> <span class="ow">and</span> <span class="k">return</span> <span class="n">the</span> <span class="n">result</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Notice that the current object is declared <code class="docutils literal notranslate"><span class="pre">const</span></code> because
<code class="docutils literal notranslate"><span class="pre">mergeSort</span></code> does not modify it. Instead, it creates and returns a new
<code class="docutils literal notranslate"><span class="pre">Deck</span></code> object.</p>
<p>If you get that version working, the real fun begins! The magical thing
about mergesort is that it is recursive. At the point where you sort the
subdecks, why should you invoke the old, slow version of <code class="docutils literal notranslate"><span class="pre">sort</span></code>? Why
not invoke the spiffy new <code class="docutils literal notranslate"><span class="pre">mergeSort</span></code> you are in the process of
writing?</p>
<p>Not only is that a good idea, it is <em>necessary</em> in order to achieve the
performance advantage I promised. In order to make it work, though, you
have to add a base case so that it doesn’t recurse forever. A simple
base case is a subdeck with 0 or 1 cards. If <code class="docutils literal notranslate"><span class="pre">mergesort</span></code> receives such
a small subdeck, it can return it unmodified, since it is already
sorted.</p>
<p>The recursive version of <code class="docutils literal notranslate"><span class="pre">mergesort</span></code> should look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Deck</span> <span class="n">Deck</span><span class="p">::</span><span class="n">mergeSort</span> <span class="p">(</span><span class="n">Deck</span> <span class="n">deck</span><span class="p">)</span> <span class="n">const</span> <span class="p">{</span>
  <span class="o">//</span> <span class="k">if</span> <span class="n">the</span> <span class="n">deck</span> <span class="ow">is</span> <span class="mi">0</span> <span class="ow">or</span> <span class="mi">1</span> <span class="n">cards</span><span class="p">,</span> <span class="k">return</span> <span class="n">it</span>

  <span class="o">//</span> <span class="n">find</span> <span class="n">the</span> <span class="n">midpoint</span> <span class="n">of</span> <span class="n">the</span> <span class="n">deck</span>
  <span class="o">//</span> <span class="n">divide</span> <span class="n">the</span> <span class="n">deck</span> <span class="n">into</span> <span class="n">two</span> <span class="n">subdecks</span>
  <span class="o">//</span> <span class="n">sort</span> <span class="n">the</span> <span class="n">subdecks</span> <span class="n">using</span> <span class="n">mergesort</span>
  <span class="o">//</span> <span class="n">merge</span> <span class="n">the</span> <span class="n">two</span> <span class="n">halves</span> <span class="ow">and</span> <span class="k">return</span> <span class="n">the</span> <span class="n">result</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As usual, there are two ways to think about recursive programs: you can
think through the entire flow of execution, or you can make the “leap of
faith.” I have deliberately constructed this example to encourage you to
make the leap of faith.</p>
<p>When you were using <code class="docutils literal notranslate"><span class="pre">sort</span></code> to sort the subdecks, you didn’t feel
compelled to follow the flow of execution, right? You just assumed that
the <code class="docutils literal notranslate"><span class="pre">sort</span></code> function would work because you already debugged it. Well,
all you did to make <code class="docutils literal notranslate"><span class="pre">mergeSort</span></code> recursive was replace one sort
algorithm with another. There is no reason to read the program
differently.</p>
<p>Well, actually you have to give some thought to getting the base case
right and making sure that you reach it eventually, but other than that,
writing the recursive version should be no problem. Good luck!</p>
</div>
<div class="section" id="glossary">
<h2>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>pseudocode:</dt><dd><p>A way of designing programs by writing rough drafts in a combination
of English and C++.</p>
</dd>
<dt>helper function:</dt><dd><p>Often a small function that does not do anything enormously useful by
itself, but which helps another, more useful, function.</p>
</dd>
<dt>bottom-up design:</dt><dd><p>A method of program development that uses pseudocode to sketch
solutions to large problems and design the interfaces of helper
functions.</p>
</dd>
<dt>mergesort:</dt><dd><p>An algorithm for sorting a collection of values. Mergesort is faster
than the simple algorithm in the previous chapter, especially for
large collections.</p>
</dd>
</dl>
</div>
</div>


  <div id=scprogresscontainer>
    You have attempted <span id=scprogresstotal></span> of <span id=scprogressposs></span> activities on this page <div id="subchapterprogress"></div>
  </div>
  
      

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>

<script>
	function mouseOverPrev() {
		document.getElementById("relations-prev").style.opacity=1;
	}

	function mouseOutPrev() {
		document.getElementById("relations-prev").style.opacity=0.4;
	}
	function mouseOverNext() {
		document.getElementById("relations-next").style.opacity=1;
	}

	function mouseOutNext() {
		document.getElementById("relations-next").style.opacity=0.4;
	}
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      
      <span id='numuserspan'></span><span class='loggedinuser'></span>
      
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020 - Based on How to Think Like a Computer Scientist.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> .
    </p>
  </div>
</footer>




<script> getSwitch(); </script>


  </body>
</html>